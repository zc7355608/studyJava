- ## å­—ç¬¦ä¸²çš„æ‰©å±•

  > JS å…è®¸é‡‡ç”¨`\uxxxx`å½¢å¼è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ï¼Œå…¶ä¸­`xxxx`è¡¨ç¤ºå­—ç¬¦çš„ Unicode ç ç‚¹ã€‚ä½†æ˜¯ï¼Œè¿™ç§è¡¨ç¤ºæ³•åªé™äºç ç‚¹åœ¨`\u0000`~`\uFFFF`ä¹‹é—´çš„å­—ç¬¦ã€‚è¶…å‡ºè¿™ä¸ªèŒƒå›´çš„å­—ç¬¦ï¼Œå¿…é¡»ç”¨ä¸¤ä¸ªåŒå­—èŠ‚çš„UTF-16ä»£ç†å¯¹å½¢å¼ã€‚
  >
  > ```js
  > "\uD842\uDFB7"
  > // "ğ ®·"
  > "\u20BB7"
  > // " 7"
  > ```
  >
  > ä¸Šé¢ä»£ç è¡¨ç¤ºï¼Œå¦‚æœç›´æ¥åœ¨`\u`åé¢è·Ÿä¸Šè¶…è¿‡`0xFFFF`çš„æ•°å€¼ï¼ˆæ¯”å¦‚`\u20BB7`ï¼‰ï¼ŒJS ä¼šç†è§£æˆ`\u20BB+7`ã€‚ç”±äº`\u20BB`æ˜¯ä¸€ä¸ªä¸å¯æ‰“å°å­—ç¬¦ï¼Œæ‰€ä»¥åªä¼šæ˜¾ç¤ºä¸€ä¸ªç©ºæ ¼ï¼Œåé¢è·Ÿç€ä¸€ä¸ª`7`ã€‚
  >
  > ES6 å¯¹è¿™ä¸€ç‚¹åšå‡ºäº†æ”¹è¿›ï¼Œ**åªè¦å°†ç ç‚¹æ”¾å…¥å¤§æ‹¬å·ï¼Œå°±èƒ½æ­£ç¡®è§£è¯»è¯¥å­—ç¬¦**ï¼š
  >
  > ```js
  > "\u{20BB7}"
  > // "ğ ®·"
  > 
  > "\u{41}\u{42}\u{43}"
  > // "ABC"
  > 
  > let hello = 123;
  > hell\u{6F} // 123
  > 
  > '\u{1F680}' === '\uD83D\uDE80'
  > // true
  > ```
  >
  > ä¸Šé¢ä»£ç ä¸­ï¼Œæœ€åä¸€ä¸ªä¾‹å­è¡¨æ˜ï¼Œå¤§æ‹¬å·è¡¨ç¤ºæ³•ä¸å››å­—èŠ‚çš„ UTF-16 ç¼–ç æ˜¯ç­‰ä»·çš„ã€‚
  >
  > æœ‰äº†è¿™ç§è¡¨ç¤ºæ³•ä¹‹åï¼ŒJS å…±æœ‰ 6 ç§æ–¹æ³•å¯ä»¥è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ã€‚
  >
  > ```js
  > '\z' === 'z'  // true
  > '\172' === 'z' // true
  > '\x7A' === 'z' // true
  > '\u007A' === 'z' // true
  > '\u{7A}' === 'z' // true
  > ```

  ###### å­—ç¬¦ä¸²çš„éå†å™¨æ¥å£ï¼š

  > ES6 ä¸ºå­—ç¬¦ä¸²æ·»åŠ äº†è¿­ä»£å™¨å™¨æ¥å£ï¼ˆè¯¦è§ã€ŠIteratorã€‹ä¸€ç« ï¼‰ï¼Œä½¿å¾—å­—ç¬¦ä¸²å¯ä»¥è¢«`for...of`å¾ªç¯éå†ã€‚
  >
  > é™¤äº†éå†å­—ç¬¦ä¸²ï¼Œè¿™ä¸ªè¿­ä»£å™¨æœ€å¤§çš„ä¼˜ç‚¹æ˜¯å¯ä»¥è¯†åˆ«å¤§äº`0xFFFF`çš„ç ç‚¹ï¼Œä¼ ç»Ÿçš„`for`å¾ªç¯æ— æ³•è¯†åˆ«è¿™æ ·çš„ç ç‚¹ã€‚

  ###### å­—ç¬¦ä¸²ä¸­å¯ä»¥ç›´æ¥è¾“å…¥ U+2028 å’Œ U+2029ï¼š

  > JS å­—ç¬¦ä¸²å…è®¸ç›´æ¥è¾“å…¥å­—ç¬¦ï¼Œä»¥åŠè¾“å…¥å­—ç¬¦çš„è½¬ä¹‰å½¢å¼ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œâ€œä¸­â€çš„ Unicode ç ç‚¹æ˜¯ U+4e2dï¼Œä½ å¯ä»¥ç›´æ¥åœ¨å­—ç¬¦ä¸²é‡Œé¢è¾“å…¥è¿™ä¸ªæ±‰å­—ï¼Œä¹Ÿå¯ä»¥è¾“å…¥å®ƒçš„è½¬ä¹‰å½¢å¼`\u4e2d`ï¼Œä¸¤è€…æ˜¯ç­‰ä»·çš„ã€‚
  >
  > ```js
  > 'ä¸­' === '\u4e2d' // true
  > ```
  >
  > ä½†æ˜¯ï¼ŒJS è§„å®šæœ‰5ä¸ªå­—ç¬¦ï¼Œä¸èƒ½åœ¨å­—ç¬¦ä¸²é‡Œé¢ç›´æ¥ä½¿ç”¨ï¼Œåªèƒ½ä½¿ç”¨è½¬ä¹‰å½¢å¼ã€‚
  >
  > - `U+005C`ï¼šåæ–œæ ï¼ˆreverse solidus)
  > - `U+000D`ï¼šå›è½¦ï¼ˆcarriage returnï¼‰
  > - `U+2028`ï¼šè¡Œåˆ†éš”ç¬¦ï¼ˆline separatorï¼‰
  > - `U+2029`ï¼šæ®µåˆ†éš”ç¬¦ï¼ˆparagraph separatorï¼‰
  > - `U+000A`ï¼šæ¢è¡Œç¬¦ï¼ˆline feedï¼‰
  >
  > ä¸¾ä¾‹æ¥è¯´ï¼Œå­—ç¬¦ä¸²é‡Œé¢ä¸èƒ½ç›´æ¥åŒ…å«åæ–œæ ï¼Œä¸€å®šè¦å†™æˆå®ƒçš„è½¬ä¹‰å½¢å¼ï¼š`\\`æˆ–`\u005c`ã€‚
  >
  > è¿™ä¸ªè§„å®šæœ¬èº«æ²¡æœ‰é—®é¢˜ï¼Œéº»çƒ¦åœ¨äº JSON æ ¼å¼å…è®¸å­—ç¬¦ä¸²é‡Œé¢ç›´æ¥ä½¿ç”¨ U+2028ï¼ˆè¡Œåˆ†éš”ç¬¦ï¼‰å’Œ U+2029ï¼ˆæ®µåˆ†éš”ç¬¦ï¼‰ã€‚è¿™æ ·ä¸€æ¥ï¼ŒæœåŠ¡å™¨è¾“å‡ºçš„ JSON è¢«`JSON.parse`è§£æï¼Œå°±æœ‰å¯èƒ½ç›´æ¥æŠ¥é”™ã€‚
  >
  > JSON æ ¼å¼å·²ç»å†»ç»“ï¼ˆRFC 7159ï¼‰ï¼Œæ²¡æ³•ä¿®æ”¹äº†ã€‚ä¸ºäº†æ¶ˆé™¤è¿™ä¸ªæŠ¥é”™ï¼ŒES2019 å…è®¸ JS å­—ç¬¦ä¸²ç›´æ¥è¾“å…¥ U+2028ï¼ˆè¡Œåˆ†éš”ç¬¦ï¼‰å’Œ U+2029ï¼ˆæ®µåˆ†éš”ç¬¦ï¼‰ã€‚
  > 
  
  ###### å¯¹`JSON.stringify()` çš„æ”¹é€ ï¼š
  
  > æ ¹æ®æ ‡å‡†ï¼ŒJSON æ•°æ®å¿…é¡»æ˜¯ UTF-8 ç¼–ç ã€‚ä½†æ˜¯ï¼Œç°åœ¨çš„`JSON.stringify()`æ–¹æ³•æœ‰å¯èƒ½è¿”å›ä¸ç¬¦åˆ UTF-8 æ ‡å‡†çš„å­—ç¬¦ä¸²ã€‚
  >
  > å…·ä½“æ¥è¯´ï¼ŒUTF-8 æ ‡å‡†è§„å®šï¼Œ`0xD800`åˆ°`0xDFFF`ä¹‹é—´çš„ç ç‚¹ï¼Œä¸èƒ½å•ç‹¬ä½¿ç”¨ï¼Œå¿…é¡»é…å¯¹ä½¿ç”¨ã€‚æ¯”å¦‚ï¼Œ`\uD834\uDF06`æ˜¯ä¸¤ä¸ªç ç‚¹ï¼Œä½†æ˜¯å¿…é¡»æ”¾åœ¨ä¸€èµ·é…å¯¹ä½¿ç”¨ï¼Œä»£è¡¨å­—ç¬¦`ğŒ†`ã€‚è¿™æ˜¯ä¸ºäº†è¡¨ç¤ºç ç‚¹å¤§äº`0xFFFF`çš„å­—ç¬¦çš„ä¸€ç§å˜é€šæ–¹æ³•ã€‚å•ç‹¬ä½¿ç”¨`\uD834`å’Œ`\uDF06`è¿™ä¸¤ä¸ªç ç‚¹æ˜¯ä¸åˆæ³•çš„ï¼Œæˆ–è€…é¢ å€’é¡ºåºä¹Ÿä¸è¡Œï¼Œå› ä¸º`\uDF06\uD834`å¹¶æ²¡æœ‰å¯¹åº”çš„å­—ç¬¦ã€‚
  >
  > `JSON.stringify()`çš„é—®é¢˜åœ¨äºï¼Œå®ƒå¯èƒ½è¿”å›`0xD800`åˆ°`0xDFFF`ä¹‹é—´çš„å•ä¸ªç ç‚¹ã€‚
  >
  > ```js
  > JSON.stringify('\u{D834}') // "\u{D834}"
  > ```
  >
  > ä¸ºäº†ç¡®ä¿è¿”å›çš„æ˜¯åˆæ³•çš„ UTF-8 å­—ç¬¦ï¼ŒES2019 æ”¹å˜äº†`JSON.stringify()`çš„è¡Œä¸ºã€‚å¦‚æœé‡åˆ°`0xD800`åˆ°`0xDFFF`ä¹‹é—´çš„å•ä¸ªç ç‚¹ï¼Œæˆ–è€…ä¸å­˜åœ¨çš„é…å¯¹å½¢å¼ï¼Œå®ƒä¼š**è¿”å›è½¬ä¹‰å­—ç¬¦ä¸²**ï¼Œç•™ç»™åº”ç”¨è‡ªå·±å†³å®šä¸‹ä¸€æ­¥çš„å¤„ç†ã€‚
  >
  > ```js
  > JSON.stringify('\u{D834}') // "\\uD834"
  > JSON.stringify('\uDF06\uD834') // "\\udf06\\ud834"
  > ```
  >
  
  ###### æ¨¡æ¿å­—ç¬¦ä¸²ï¼š
  
  > ä¼ ç»Ÿçš„ JS è¯­è¨€ï¼Œè¾“å‡ºæ¨¡æ¿é€šå¸¸æ˜¯è¿™æ ·å†™çš„ï¼ˆä¸‹é¢ä½¿ç”¨äº† jQuery çš„æ–¹æ³•ï¼‰ã€‚
  >
  > ```js
  > $('#result').append(
  > 'There are <b>' + basket.count + '</b> ' +
  > 'items in your basket, ' +
  > '<em>' + basket.onSale +
  > '</em> are on sale!'
  > );
  > ```
  >
  > ä¸Šé¢è¿™ç§å†™æ³•ç›¸å½“ç¹çä¸æ–¹ä¾¿ï¼ŒES6 å¼•å…¥äº†æ¨¡æ¿å­—ç¬¦ä¸²è§£å†³è¿™ä¸ªé—®é¢˜ã€‚
  >
  > ```js
  > $('#result').append(`
  > There are <b>${basket.count}</b> items
  > in your basket, <em>${basket.onSale}</em>
  > are on sale!
  > `);
  > ```
  >
  > æ¨¡æ¿å­—ç¬¦ä¸²ï¼ˆtemplate stringï¼‰æ˜¯å¢å¼ºç‰ˆçš„å­—ç¬¦ä¸²ï¼Œç”¨åå¼•å·ï¼ˆ\`\`ï¼‰æ ‡è¯†ã€‚å®ƒå¯ä»¥å½“ä½œæ™®é€šå­—ç¬¦ä¸²ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥ç”¨æ¥å®šä¹‰å¤šè¡Œå­—ç¬¦ä¸²ã€‚å¦‚æœè¦åœ¨æ¨¡æ¿å­—ç¬¦ä¸²ä¸­åµŒå…¥å˜é‡ï¼Œéœ€è¦å°†å˜é‡åå†™åœ¨`${}`ä¹‹ä¸­ï¼Œå¤§æ‹¬å·å†…éƒ¨å¯ä»¥æ”¾å…¥ä»»æ„çš„ JS è¡¨è¾¾å¼ã€‚
  >
  > **å¦‚æœä½¿ç”¨æ¨¡æ¿å­—ç¬¦ä¸²è¡¨ç¤ºå¤šè¡Œå­—ç¬¦ä¸²ï¼Œæ‰€æœ‰çš„ç©ºæ ¼å’Œç¼©è¿›éƒ½ä¼šè¢«ä¿ç•™åœ¨è¾“å‡ºä¹‹ä¸­**ã€‚å¦‚æœåœ¨æ¨¡æ¿å­—ç¬¦ä¸²ä¸­éœ€è¦ä½¿ç”¨åå¼•å·ï¼Œåˆ™å‰é¢è¦ç”¨åæ–œæ è½¬ä¹‰ã€‚
  >
  > ```js
  > // æ™®é€šå­—ç¬¦ä¸²
  > `In JS '\n' is a line-feed.`
  > 
  > // å¤šè¡Œå­—ç¬¦ä¸²
  > `In JS this is
  > not legal.`
  > 
  > console.log(`string text line 1
  > string text line 2`);
  > 
  > // å­—ç¬¦ä¸²ä¸­åµŒå…¥å˜é‡
  > let name = "Bob", time = "today";
  > `Hello ${name}, how are you ${time}?`
  > ```
  >
  > å¦‚æœå¤§æ‹¬å·ä¸­çš„å€¼ä¸æ˜¯å­—ç¬¦ä¸²ï¼Œå°†æŒ‰ç…§ä¸€èˆ¬çš„è§„åˆ™è½¬ä¸ºå­—ç¬¦ä¸²ã€‚æ¯”å¦‚ï¼Œå¤§æ‹¬å·ä¸­æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå°†é»˜è®¤è°ƒç”¨å¯¹è±¡çš„`toString`æ–¹æ³•ã€‚
  >
  > **æ¨¡æ¿å­—ç¬¦ä¸²ç”šè‡³è¿˜èƒ½åµŒå¥—ã€‚**
  >
  > ```js
  > const tmpl = addrs => `
  > <table>
  > ${addrs.map(addr => `
  >  <tr><td>${addr.first}</td></tr>
  >  <tr><td>${addr.last}</td></tr>
  > `).join('')}
  > </table>
  > `;
  > ```
  >
  
  ###### æ ‡ç­¾æ¨¡æ¿ï¼š
  
  > æ¨¡æ¿å­—ç¬¦ä¸²çš„åŠŸèƒ½ï¼Œä¸ä»…ä»…æ˜¯ä¸Šé¢è¿™äº›ã€‚
  >
  > **å‡½æ•°ååé¢å¯ä»¥ç´§è·Ÿä¸€ä¸ªæ¨¡æ¿å­—ç¬¦ä¸²ï¼Œæ­¤æ—¶ä¼šè°ƒç”¨è¯¥å‡½æ•°æ¥å¤„ç†è¿™ä¸ªæ¨¡æ¿å­—ç¬¦ä¸²**ã€‚è¿™è¢«ç§°ä¸ºâ€œæ ‡ç­¾æ¨¡æ¿â€åŠŸèƒ½ï¼ˆtagged templateï¼‰ã€‚
  >
  > ```js
  > alert`hello`
  > // ç­‰åŒäº
  > alert(['hello'])
  > ```
  >
  > **æ ‡ç­¾æ¨¡æ¿å…¶å®ä¸æ˜¯æ¨¡æ¿ï¼Œè€Œæ˜¯å‡½æ•°è°ƒç”¨çš„ä¸€ç§ç‰¹æ®Šå½¢å¼**ã€‚â€œæ ‡ç­¾â€æŒ‡çš„å°±æ˜¯å‡½æ•°ï¼Œç´§è·Ÿåœ¨åé¢çš„æ¨¡æ¿å­—ç¬¦ä¸²å°±æ˜¯å®ƒçš„å‚æ•°ã€‚
  >
  > ä½†æ˜¯ï¼Œå¦‚æœæ¨¡æ¿å­—ç¬¦é‡Œé¢æœ‰å˜é‡ï¼Œå°±ä¸æ˜¯ç®€å•çš„è°ƒç”¨äº†ï¼Œè€Œæ˜¯ä¼šå°†æ¨¡æ¿å­—ç¬¦ä¸²å…ˆå¤„ç†æˆå¤šä¸ªå‚æ•°ï¼Œå†è°ƒç”¨å‡½æ•°ã€‚
  >
  > ```js
  > let a = 5;
  > let b = 10;
  > 
  > tag`Hello ${ a + b } world ${ a * b }`;
  > // ç­‰åŒäº
  > tag(['Hello ', ' world ', ''], 15, 50);
  > ```
  >
  > ä¸Šé¢ä»£ç ä¸­ï¼Œæ¨¡æ¿å­—ç¬¦ä¸²å‰é¢æœ‰ä¸€ä¸ªæ ‡è¯†å`tag`ï¼Œå®ƒæ˜¯ä¸€ä¸ªå‡½æ•°ã€‚æ•´ä¸ªè¡¨è¾¾å¼çš„è¿”å›å€¼ï¼Œå°±æ˜¯`tag`å‡½æ•°å¤„ç†æ¨¡æ¿å­—ç¬¦ä¸²åçš„è¿”å›å€¼ã€‚
  >
  > å‡½æ•°`tag`ä¾æ¬¡ä¼šæ¥æ”¶åˆ°å¤šä¸ªå‚æ•°ã€‚
  >
  > ```js
  > function tag(stringArr, value1, value2){
  > // ...
  > }
  > 
  > // ç­‰åŒäº
  > 
  > function tag(stringArr, ...values){
  > // ...
  > }
  > ```
  >
  > `tag`å‡½æ•°çš„**ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªä¼ªæ•°ç»„**ï¼Œè¯¥æ•°ç»„çš„æˆå‘˜æ˜¯æ¨¡æ¿å­—ç¬¦ä¸²ä¸­é‚£äº›æ²¡æœ‰å˜é‡æ›¿æ¢çš„éƒ¨åˆ†ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå˜é‡æ›¿æ¢åªå‘ç”Ÿåœ¨æ•°ç»„çš„ç¬¬ä¸€ä¸ªæˆå‘˜ä¸ç¬¬äºŒä¸ªæˆå‘˜ä¹‹é—´ã€ç¬¬äºŒä¸ªæˆå‘˜ä¸ç¬¬ä¸‰ä¸ªæˆå‘˜ä¹‹é—´ï¼Œä»¥æ­¤ç±»æ¨ã€‚
  >
  > `tag`å‡½æ•°çš„å…¶ä»–å‚æ•°ï¼Œéƒ½æ˜¯æ¨¡æ¿å­—ç¬¦ä¸²å„ä¸ªå˜é‡è¢«æ›¿æ¢åçš„å€¼ã€‚ç”±äºæœ¬ä¾‹ä¸­ï¼Œæ¨¡æ¿å­—ç¬¦ä¸²å«æœ‰ä¸¤ä¸ªå˜é‡ï¼Œå› æ­¤`tag`ä¼šæ¥å—åˆ°`value1`å’Œ`value2`ä¸¤ä¸ªå‚æ•°ã€‚
  >
  > `tag`å‡½æ•°æ‰€æœ‰å‚æ•°çš„å®é™…å€¼å¦‚ä¸‹ã€‚
  >
  > - ç¬¬ä¸€ä¸ªå‚æ•°ï¼š`['Hello ', ' world ', '']`
  > - ç¬¬äºŒä¸ªå‚æ•°: 15
  > - ç¬¬ä¸‰ä¸ªå‚æ•°ï¼š50
  >
  > ä¹Ÿå°±æ˜¯è¯´ï¼Œ`tag`å‡½æ•°å®é™…ä¸Šä»¥ä¸‹é¢çš„å½¢å¼è°ƒç”¨ã€‚
  >
  > ```js
  >   tag(['Hello ', ' world ', ''], 15, 50)
  > ```
  >
  > æˆ‘ä»¬å¯ä»¥æŒ‰ç…§éœ€è¦ç¼–å†™`tag`å‡½æ•°çš„ä»£ç ã€‚ä¸‹é¢æ˜¯`tag`å‡½æ•°çš„ä¸€ç§å†™æ³•ï¼Œä»¥åŠè¿è¡Œç»“æœã€‚
  >
  > ```js
  >   let a = 5;
  > let b = 10;
  > 
  > function tag(s, v1, v2) {
  >   console.log(s[0]);
  >  console.log(s[1]);
  >   console.log(s[2]);
  >  console.log(v1);
  >   console.log(v2);
  > 
  >     return "OK";
  >   }
  > 
  >   tag`Hello ${ a + b } world ${ a * b}`;
  >    // "Hello "
  >    // " world "
  > // ""
  >   // 15
  > // 50
  >   // "OK"
  > ```
  >
  > â€œæ ‡ç­¾æ¨¡æ¿â€çš„ä¸€ä¸ªé‡è¦åº”ç”¨ï¼Œå°±æ˜¯è¿‡æ»¤ HTML å­—ç¬¦ä¸²ï¼Œé˜²æ­¢ç”¨æˆ·è¾“å…¥æ¶æ„å†…å®¹ã€‚
  >
  >    ```js
  >    let message =
  >   SaferHTML`<p>${sender} has sent you a message.</p>`;
  > 
  > function SaferHTML(templateData) {
  >      let s = templateData[0];
  >     for (let i = 1; i < arguments.length; i++) {
  >     let arg = String(arguments[i]);
  > 
  >     // Escape special characters in the substitution.
  >     s += arg.replace(/&/g, "&amp;")
  >            .replace(/</g, "&lt;")
  >             .replace(/>/g, "&gt;");
  > 
  >     // Don't escape special characters in the template.
  >     s += templateData[i];
  >   }
  >   return s;
  > }
  >    ```
  >
  > ä¸Šé¢ä»£ç ä¸­ï¼Œ`sender`å˜é‡å¾€å¾€æ˜¯ç”¨æˆ·æä¾›çš„ï¼Œç»è¿‡`SaferHTML`å‡½æ•°å¤„ç†ï¼Œé‡Œé¢çš„ç‰¹æ®Šå­—ç¬¦éƒ½ä¼šè¢«è½¬ä¹‰ã€‚
  >
  > ```js
  > let sender = '<script>alert("abc")</script>'; // æ¶æ„ä»£ç 
  > let message = SaferHTML`<p>${sender} has sent you a message.</p>`;
  > 
  > message
  > // <p>&lt;script&gt;alert("abc")&lt;/script&gt; has sent you a message.</p>
  > ```
  >
  > æ ‡ç­¾æ¨¡æ¿çš„å¦ä¸€ä¸ªåº”ç”¨ï¼Œå°±æ˜¯å¤šè¯­è¨€è½¬æ¢ï¼ˆå›½é™…åŒ–å¤„ç†ï¼‰ã€‚
  >
  > ```js
  > i18n`Welcome to ${siteName}, you are visitor number ${visitorNumber}!`
  > // "æ¬¢è¿è®¿é—®xxxï¼Œæ‚¨æ˜¯ç¬¬xxxxä½è®¿é—®è€…ï¼"
  > ```
  >
  > æ¨¡æ¿å­—ç¬¦ä¸²æœ¬èº«å¹¶ä¸èƒ½å–ä»£ `Mustache` ä¹‹ç±»çš„æ¨¡æ¿åº“ï¼Œå› ä¸ºæ²¡æœ‰æ¡ä»¶åˆ¤æ–­å’Œå¾ªç¯å¤„ç†åŠŸèƒ½ï¼Œä½†æ˜¯é€šè¿‡**æ ‡ç­¾å‡½æ•°**ï¼Œä½ å¯ä»¥è‡ªå·±æ·»åŠ è¿™äº›åŠŸèƒ½ã€‚
  >
  > ```js
  > // ä¸‹é¢çš„hashTemplateå‡½æ•°
  > // æ˜¯ä¸€ä¸ªè‡ªå®šä¹‰çš„æ¨¡æ¿å¤„ç†å‡½æ•°
  > let libraryHtml = hashTemplate`
  >   <ul>
  >     #for book in ${myBooks}
  >      <li><i>#{book.title}</i> by #{book.author}</li>
  >     #end
  >  </ul>
  > `;
  > ```
  >
  > é™¤æ­¤ä¹‹å¤–ï¼Œä½ ç”šè‡³å¯ä»¥ä½¿ç”¨æ ‡ç­¾æ¨¡æ¿ï¼Œåœ¨ JS è¯­è¨€ä¹‹ä¸­åµŒå…¥å…¶ä»–è¯­è¨€ã€‚
  >
  > ```js
  > jsx`
  >   <div>
  >     <input
  >       ref='input'
  >         onChange='${this.handleChange}'
  >       defaultValue='${this.state.value}' />
  >       ${this.state.value}
  >   </div>
  > `
  > ```
  >
  > ä¸Šé¢çš„ä»£ç é€šè¿‡`jsx`å‡½æ•°ï¼Œå°†ä¸€ä¸ª DOM å­—ç¬¦ä¸²è½¬ä¸º React å¯¹è±¡ã€‚ä½ å¯ä»¥åœ¨ GitHub æ‰¾åˆ°`jsx`å‡½æ•°çš„[å…·ä½“å®ç°](https://gist.github.com/lygaret/a68220defa69174bdec5)ã€‚
  >
  > ä¸‹é¢åˆ™æ˜¯ä¸€ä¸ªå‡æƒ³çš„ä¾‹å­ï¼Œé€šè¿‡`java`å‡½æ•°ï¼Œåœ¨ JS ä»£ç ä¹‹ä¸­è¿è¡Œ Java ä»£ç ã€‚
  >
  > ```js
  > java`
  > class HelloWorldApp {
  >   public static void main(String[] args) {
  >    System.out.println("Hello World!"); // Display the string.
  >   }
  > }
  > `
  > HelloWorldApp.main();
  > ```
  >
  > **æ¨¡æ¿å¤„ç†å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼ˆæ¨¡æ¿å­—ç¬¦ä¸²ä¼ªæ•°ç»„ï¼‰ï¼Œè¿˜æœ‰ä¸€ä¸ª`raw`å±æ€§ï¼Œä¿å­˜çš„æ˜¯è½¬ä¹‰åçš„åŸå­—ç¬¦ä¸²ã€‚**
  >
  > ```js
  > tag`First line\nSecond line`
  > 
  > function tag(strings) {
  >   console.log(strings.raw[0]);
  >   // strings.raw[0] ä¸º "First line\\nSecond line"
  >   // æ‰“å°è¾“å‡º "First line\nSecond line"
  > }
  > ```
  >
  > ä¸Šé¢ä»£ç ä¸­ï¼Œ`tag`å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°`strings`ï¼Œæœ‰ä¸€ä¸ª`raw`å±æ€§ï¼Œä¹ŸæŒ‡å‘ä¸€ä¸ªæ•°ç»„ã€‚è¯¥æ•°ç»„çš„æˆå‘˜ä¸`strings`æ•°ç»„å®Œå…¨ä¸€è‡´ã€‚æ¯”å¦‚ï¼Œ`strings`æ•°ç»„æ˜¯`["First line\nSecond line"]`ï¼Œé‚£ä¹ˆ`strings.raw`æ•°ç»„å°±æ˜¯`["First line\\nSecond line"]`ã€‚ä¸¤è€…å”¯ä¸€çš„åŒºåˆ«ï¼Œå°±æ˜¯å­—ç¬¦ä¸²é‡Œé¢çš„æ–œæ éƒ½è¢«è½¬ä¹‰äº†ã€‚æ¯”å¦‚ï¼Œ`strings.raw` æ•°ç»„ä¼šå°†`\n`è§†ä¸º`\\`å’Œ`n`ä¸¤ä¸ªå­—ç¬¦ï¼Œè€Œä¸æ˜¯æ¢è¡Œç¬¦ã€‚è¿™æ˜¯ä¸ºäº†æ–¹ä¾¿å–å¾—è½¬ä¹‰ä¹‹å‰çš„åŸå§‹æ¨¡æ¿è€Œè®¾è®¡çš„ã€‚
  
  ###### æ¨¡æ¿å­—ç¬¦ä¸²çš„é™åˆ¶ï¼š
  
  > å‰é¢æåˆ°æ ‡ç­¾æ¨¡æ¿é‡Œé¢ï¼Œå¯ä»¥å†…åµŒå…¶ä»–è¯­è¨€ã€‚ä½†æ˜¯ï¼Œæ¨¡æ¿å­—ç¬¦ä¸²é»˜è®¤ä¼šå°†å­—ç¬¦ä¸²è½¬ä¹‰ï¼Œå¯¼è‡´æ— æ³•åµŒå…¥å…¶ä»–è¯­è¨€ã€‚
  >
  > ä¸¾ä¾‹æ¥è¯´ï¼Œæ ‡ç­¾æ¨¡æ¿é‡Œé¢å¯ä»¥åµŒå…¥ LaTEX è¯­è¨€ã€‚
  >
  > ```js
  > function latex(strings) {
  >   // ...
  >   }
  >    
  >   let document = latex`
  > \newcommand{\fun}{\textbf{Fun!}}  // æ­£å¸¸å·¥ä½œ
  > \newcommand{\unicode}{\textbf{Unicode!}} // æŠ¥é”™
  > \newcommand{\xerxes}{\textbf{King!}} // æŠ¥é”™
  >
  > Breve over the h goes \u{h}ere // æŠ¥é”™
  >`
  > ```
  >
  > ä¸Šé¢ä»£ç ä¸­ï¼ˆä»£ç ä¸å¯¹ï¼‰ï¼Œå˜é‡`document`å†…åµŒçš„æ¨¡æ¿å­—ç¬¦ä¸²ï¼Œå¯¹äº LaTEX è¯­è¨€æ¥è¯´å®Œå…¨æ˜¯åˆæ³•çš„ï¼Œä½†æ˜¯ JS å¼•æ“ä¼šæŠ¥é”™ã€‚åŸå› å°±åœ¨äºå­—ç¬¦ä¸²çš„è½¬ä¹‰ã€‚
  >
  > æ¨¡æ¿å­—ç¬¦ä¸²ä¼šå°†`\u00FF`å’Œ`\u{42}`å½“ä½œ Unicode å­—ç¬¦è¿›è¡Œè½¬ä¹‰ï¼Œæ‰€ä»¥`\unicode`è§£ææ—¶æŠ¥é”™ï¼›è€Œ`\x56`ä¼šè¢«å½“ä½œåå…­è¿›åˆ¶å­—ç¬¦ä¸²è½¬ä¹‰ï¼Œæ‰€ä»¥`\xerxes`ä¼šæŠ¥é”™ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ`\u`å’Œ`\x`åœ¨ LaTEX é‡Œé¢æœ‰ç‰¹æ®Šå«ä¹‰ï¼Œä½†æ˜¯ JS å°†å®ƒä»¬è½¬ä¹‰äº†ã€‚
  > 
  > ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒES2018 æ”¾æ¾äº†å¯¹æ ‡ç­¾æ¨¡æ¿é‡Œé¢çš„å­—ç¬¦ä¸²è½¬ä¹‰çš„é™åˆ¶ã€‚å¦‚æœé‡åˆ°ä¸åˆæ³•çš„å­—ç¬¦ä¸²è½¬ä¹‰ï¼Œå°±è¿”å›`undefined`ï¼Œè€Œä¸æ˜¯æŠ¥é”™ï¼Œå¹¶ä¸”ä»`raw`å±æ€§ä¸Šé¢å¯ä»¥å¾—åˆ°åŸå§‹å­—ç¬¦ä¸²ã€‚
  >   
  >   ```js
  >   function tag(strs) {
  >   strs[0] === undefined
  >   strs.raw[0] === "\\unicode and \\u{55}";
  > }
  >tag`\unicode and \u{55}`
  > ```
  >
  > ä¸Šé¢ä»£ç ä¸­ï¼Œæ¨¡æ¿å­—ç¬¦ä¸²åŸæœ¬æ˜¯åº”è¯¥æŠ¥é”™çš„ï¼Œä½†æ˜¯ç”±äºæ”¾æ¾äº†å¯¹å­—ç¬¦ä¸²è½¬ä¹‰çš„é™åˆ¶ï¼Œæ‰€ä»¥ä¸æŠ¥é”™äº†ï¼ŒJS å¼•æ“å°†ç¬¬ä¸€ä¸ªå­—ç¬¦è®¾ç½®ä¸º`undefined`ï¼Œä½†æ˜¯`raw`å±æ€§ä¾ç„¶å¯ä»¥å¾—åˆ°åŸå§‹å­—ç¬¦ä¸²ï¼Œå› æ­¤`tag`å‡½æ•°è¿˜æ˜¯å¯ä»¥å¯¹åŸå­—ç¬¦ä¸²è¿›è¡Œå¤„ç†ã€‚
  > 
  > æ³¨æ„ï¼Œè¿™ç§å¯¹å­—ç¬¦ä¸²è½¬ä¹‰çš„æ”¾æ¾ï¼Œåªåœ¨æ ‡ç­¾æ¨¡æ¿è§£æå­—ç¬¦ä¸²æ—¶ç”Ÿæ•ˆï¼Œä¸æ˜¯æ ‡ç­¾æ¨¡æ¿çš„åœºåˆï¼Œä¾ç„¶ä¼šæŠ¥é”™ã€‚
  > 
  > ```js
  >   let bad = `bad escape sequence: \unicode`; // æŠ¥é”™
  >   ```
  
- ## å­—ç¬¦ä¸²çš„æ–°å¢æ–¹æ³•

  > é™æ€æ–¹æ³•ï¼š

  - `String.fromCodePoint()`ï¼šES5 æä¾›`String.fromCharCode()`æ–¹æ³•ï¼Œç”¨äºä» Unicode ç ç‚¹è¿”å›å¯¹åº”å­—ç¬¦ï¼Œä½†æ˜¯è¿™ä¸ªæ–¹æ³•ä¸èƒ½è¯†åˆ«ç ç‚¹å¤§äº`0xFFFF`çš„å­—ç¬¦ã€‚

    ```js
    String.fromCharCode(0x20BB7)  // "à®·"
    ```

    > ä¸Šé¢ä»£ç ä¸­ï¼Œ`String.fromCharCode()`ä¸èƒ½è¯†åˆ«å¤§äº`0xFFFF`çš„ç ç‚¹ï¼Œæ‰€ä»¥`0x20BB7`å°±å‘ç”Ÿäº†æº¢å‡ºï¼Œæœ€é«˜ä½`2`è¢«èˆå¼ƒäº†ï¼Œæœ€åè¿”å›ç ç‚¹`U+0BB7`å¯¹åº”çš„å­—ç¬¦ï¼Œè€Œä¸æ˜¯ç ç‚¹`U+20BB7`å¯¹åº”çš„å­—ç¬¦ã€‚

    ES6 æä¾›äº†`String.fromCodePoint()`æ–¹æ³•ï¼Œå¯ä»¥è¯†åˆ«å¤§äº`0xFFFF`çš„å­—ç¬¦ï¼Œå¼¥è¡¥äº†`String.fromCharCode()`æ–¹æ³•çš„ä¸è¶³ã€‚åœ¨ä½œç”¨ä¸Šï¼Œæ­£å¥½ä¸ä¸‹é¢çš„å®ä¾‹æ–¹æ³•`codePointAt()`ç›¸åã€‚

    ```js
    String.fromCodePoint(0x20BB7)  // "ğ ®·"
    String.fromCodePoint(0x78, 0x1f680, 0x79) === 'x\uD83D\uDE80y'  // true
    ```

    > ä¸Šé¢ä»£ç ä¸­ï¼Œå¦‚æœ`String.fromCodePoint`æ–¹æ³•æœ‰å¤šä¸ªå‚æ•°ï¼Œåˆ™å®ƒä»¬å¯¹åº”çš„å­—ç¬¦åˆå¹¶æˆä¸€ä¸ªå­—ç¬¦ä¸²è¿”å›ã€‚

  - `String.raw()`ï¼šES6 ä¸ºåŸç”Ÿçš„ String å¯¹è±¡æä¾›äº†ä¸€ä¸ª`raw()`æ–¹æ³•ï¼Œè¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªæ–œæ éƒ½è¢«è½¬ä¹‰ï¼ˆå³æ–œæ å‰é¢å†åŠ ä¸€ä¸ªæ–œæ ï¼‰çš„å­—ç¬¦ä¸²ï¼Œå¾€å¾€ç”¨äºæ¨¡æ¿å­—ç¬¦ä¸²çš„å¤„ç†æ–¹æ³•ã€‚

    ```js
    String.raw`Hi\n${2+3}!`
    // å®é™…è¿”å› "Hi\\n5!"ï¼Œæ˜¾ç¤ºçš„æ˜¯è½¬ä¹‰åçš„ç»“æœ "Hi\n5!"
    
    String.raw`Hi\u000A!`;
    // å®é™…è¿”å› "Hi\\u000A!"ï¼Œæ˜¾ç¤ºçš„æ˜¯è½¬ä¹‰åçš„ç»“æœ "Hi\u000A!"
    ```

    > å¦‚æœåŸå­—ç¬¦ä¸²çš„æ–œæ å·²ç»è½¬ä¹‰ï¼Œé‚£ä¹ˆ`String.raw()`ä¼šè¿›è¡Œå†æ¬¡è½¬ä¹‰ã€‚

    ```js
    String.raw`Hi\\n`  // è¿”å› "Hi\\\\n"
    String.raw`Hi\\n` === "Hi\\\\n" // true
    ```

    > `String.raw()`æ–¹æ³•å¯ä»¥ä½œä¸ºå¤„ç†æ¨¡æ¿å­—ç¬¦ä¸²çš„åŸºæœ¬æ–¹æ³•ï¼Œå®ƒä¼šå°†æ‰€æœ‰å˜é‡æ›¿æ¢ï¼Œè€Œä¸”å¯¹æ–œæ è¿›è¡Œè½¬ä¹‰ï¼Œæ–¹ä¾¿ä¸‹ä¸€æ­¥ä½œä¸ºå­—ç¬¦ä¸²æ¥ä½¿ç”¨ã€‚
    >
    > `String.raw()`æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªæ­£å¸¸çš„å‡½æ•°ï¼Œåªæ˜¯ä¸“ç”¨äºæ¨¡æ¿å­—ç¬¦ä¸²çš„**æ ‡ç­¾å‡½æ•°**ã€‚å¦‚æœå†™æˆæ­£å¸¸å‡½æ•°çš„å½¢å¼ï¼Œå®ƒçš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œåº”è¯¥æ˜¯ä¸€ä¸ªå…·æœ‰`raw`å±æ€§çš„å¯¹è±¡ï¼Œä¸”`raw`å±æ€§çš„å€¼åº”è¯¥æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå¯¹åº”æ¨¡æ¿å­—ç¬¦ä¸²è§£æåçš„å€¼ã€‚

    ```js
    // `foo${1 + 2}bar`
    // ç­‰åŒäº
    String.raw({ raw: ['foo', 'bar'] }, 1 + 2) // "foo3bar"
    ```

    > ä¸Šé¢ä»£ç ä¸­ï¼Œ`String.raw()`æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒçš„`raw`å±æ€§ç­‰åŒäºåŸå§‹çš„æ¨¡æ¿å­—ç¬¦ä¸²è§£æåå¾—åˆ°çš„æ•°ç»„ã€‚ä¸è¿‡ä¸€èˆ¬æ²¡äººè¿™ä¹ˆè°ƒç”¨ï¼Œå¾ˆéº»çƒ¦ã€‚
    >
    > ä½œä¸ºå‡½æ•°ï¼Œ`String.raw()`çš„ä»£ç å®ç°åŸºæœ¬å¦‚ä¸‹ã€‚

    ```js
    String.raw = function (strings, ...values) {
        let output = '';
        let index;
        for (index = 0; index < values.length; index++) {
            output += strings.raw[index] + values[index];
        }
        output += strings.raw[index];
        return output;
    }
    ```


  > å®ä¾‹æ–¹æ³•ï¼š

- `codePointAt()`ï¼šJS çš„å­—ç¬¦ä»¥ UTF-16 çš„æ ¼å¼å‚¨å­˜ï¼Œæ¯ä¸ªå­—ç¬¦å›ºå®šä¸º`2`ä¸ªå­—èŠ‚ã€‚å¯¹äºé‚£äº›éœ€è¦`4`ä¸ªå­—èŠ‚å‚¨å­˜çš„å­—ç¬¦ï¼ˆUnicode ç ç‚¹å¤§äº`0xFFFF`çš„å­—ç¬¦ï¼‰ï¼ŒJS ä¼šè®¤ä¸ºå®ƒä»¬æ˜¯ä¸¤ä¸ªå­—ç¬¦ã€‚

    ```js
    var s = "ğ ®·";
    
    s.length // 2
    s.charAt(0) // ''
    s.charAt(1) // ''
    s.charCodeAt(0) // 55362
    s.charCodeAt(1) // 57271
    ```

    > ä¸Šé¢ä»£ç ä¸­ï¼Œæ±‰å­—â€œğ ®·â€ï¼ˆæ³¨æ„ï¼Œè¿™ä¸ªå­—ä¸æ˜¯â€œå‰ç¥¥â€çš„â€œå‰â€ï¼‰çš„ç ç‚¹æ˜¯`0x20BB7`ï¼ŒUTF-16 ç¼–ç ä¸º`0xD842 0xDFB7`ï¼ˆåè¿›åˆ¶ä¸º`55362 57271`ï¼‰ï¼Œéœ€è¦`4`ä¸ªå­—èŠ‚å‚¨å­˜ã€‚å¯¹äºè¿™ç§`4`ä¸ªå­—èŠ‚çš„å­—ç¬¦ï¼ŒJS ä¸èƒ½æ­£ç¡®å¤„ç†ï¼Œå­—ç¬¦ä¸²é•¿åº¦ä¼šè¯¯åˆ¤ä¸º`2`ï¼Œè€Œä¸”`charAt()`æ–¹æ³•æ— æ³•æ­£ç¡®è¯»å–æ•´ä¸ªå­—ç¬¦ï¼Œ`charCodeAt()`æ–¹æ³•åªèƒ½åˆ†åˆ«è¿”å›å‰ä¸¤ä¸ªå­—èŠ‚æˆ–åä¸¤ä¸ªå­—èŠ‚çš„å€¼ã€‚

    ES6 æä¾›äº†å®ä¾‹æ–¹æ³•`codePointAt()`ï¼Œèƒ½å¤Ÿæ­£ç¡®å¤„ç† 4 ä¸ªå­—èŠ‚å‚¨å­˜çš„ UTF16 çš„å­—ç¬¦ï¼Œè¿”å›ä¸€ä¸ªå­—ç¬¦çš„ç ç‚¹ã€‚

    ```js
    let s = 'ğ ®·a';
    
    s.codePointAt(0) // 134071
    s.codePointAt(1) // 57271
    
    s.codePointAt(2) // 97
    ```

    > `codePointAt()`æ–¹æ³•çš„å‚æ•°ï¼Œæ˜¯å­—ç¬¦åœ¨å­—ç¬¦ä¸²ä¸­çš„ä½ç½®ï¼ˆä» 0 å¼€å§‹ï¼‰ã€‚ä¸Šé¢ä»£ç ä¸­ï¼ŒJS å°†â€œğ ®·aâ€è§†ä¸ºä¸‰ä¸ªå­—ç¬¦ï¼ŒcodePointAt æ–¹æ³•åœ¨ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸Šï¼Œæ­£ç¡®åœ°è¯†åˆ«äº†â€œğ ®·â€ï¼Œè¿”å›äº†å®ƒçš„åè¿›åˆ¶ç ç‚¹ 134071ï¼ˆå³åå…­è¿›åˆ¶çš„`20BB7`ï¼‰ã€‚åœ¨ç¬¬äºŒä¸ªå­—ç¬¦ï¼ˆå³â€œğ ®·â€çš„åä¸¤ä¸ªå­—èŠ‚ï¼‰å’Œç¬¬ä¸‰ä¸ªå­—ç¬¦â€œaâ€ä¸Šï¼Œ`codePointAt()`æ–¹æ³•çš„ç»“æœä¸`charCodeAt()`æ–¹æ³•ç›¸åŒã€‚
    >
    > æ€»ä¹‹ï¼Œ`codePointAt()`æ–¹æ³•ä¼šæ­£ç¡®è¿”å› 32 ä½çš„ UTF-16 å­—ç¬¦çš„ç ç‚¹ã€‚å¯¹äºé‚£äº›ä¸¤ä¸ªå­—èŠ‚å‚¨å­˜çš„å¸¸è§„å­—ç¬¦ï¼Œå®ƒçš„è¿”å›ç»“æœä¸`charCodeAt()`æ–¹æ³•ç›¸åŒã€‚

    `codePointAt()`æ–¹æ³•è¿”å›çš„æ˜¯ç ç‚¹çš„åè¿›åˆ¶å€¼ï¼Œå¦‚æœæƒ³è¦åå…­è¿›åˆ¶çš„å€¼ï¼Œå¯ä»¥ä½¿ç”¨`toString()`æ–¹æ³•è½¬æ¢ä¸€ä¸‹ã€‚

    ```js
    let s = 'ğ ®·a';
    
    s.codePointAt(0).toString(16) // "20bb7"
    s.codePointAt(2).toString(16) // "61"
    ```

    ä½ å¯èƒ½æ³¨æ„åˆ°äº†ï¼Œ`codePointAt()`æ–¹æ³•çš„å‚æ•°ï¼Œä»ç„¶æ˜¯ä¸æ­£ç¡®çš„ã€‚æ¯”å¦‚ï¼Œä¸Šé¢ä»£ç ä¸­ï¼Œå­—ç¬¦`a`åœ¨å­—ç¬¦ä¸²`s`çš„æ­£ç¡®ä½ç½®åºå·åº”è¯¥æ˜¯ 1ï¼Œä½†æ˜¯å¿…é¡»å‘`codePointAt()`æ–¹æ³•ä¼ å…¥ 2ã€‚è§£å†³è¿™ä¸ªé—®é¢˜çš„ä¸€ä¸ªåŠæ³•æ˜¯ä½¿ç”¨`for...of`å¾ªç¯ï¼Œå› ä¸ºå®ƒä¼šæ­£ç¡®è¯†åˆ« 32 ä½çš„ UTF-16 å­—ç¬¦ã€‚

    ```js
    let s = 'ğ ®·a';
    for (let ch of s) {
    	console.log(ch.codePointAt(0).toString(16));
    }
    // 20bb7
    // 61
    ```

    å¦ä¸€ç§æ–¹æ³•ä¹Ÿå¯ä»¥ï¼Œä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦ï¼ˆ`...`ï¼‰è¿›è¡Œå±•å¼€è¿ç®—ã€‚

    ```js
    let arr = [...'ğ ®·a']; // arr.length === 2
    arr.forEach(
    	ch => console.log(ch.codePointAt(0).toString(16))
    );
    // 20bb7
    // 61
    ```

    `codePointAt()`æ–¹æ³•æ˜¯æµ‹è¯•ä¸€ä¸ªå­—ç¬¦ç”±ä¸¤ä¸ªå­—èŠ‚è¿˜æ˜¯ç”±å››ä¸ªå­—èŠ‚ç»„æˆçš„æœ€ç®€å•æ–¹æ³•ã€‚

    ```js
    function is32Bit(c) {
    	return c.codePointAt(0) > 0xFFFF;
    }
    
    is32Bit("ğ ®·") // true
    is32Bit("a") // false
    ```

- `normalize()`ï¼šè®¸å¤šæ¬§æ´²è¯­è¨€æœ‰è¯­è°ƒç¬¦å·å’Œé‡éŸ³ç¬¦å·ã€‚ä¸ºäº†è¡¨ç¤ºå®ƒä»¬ï¼ŒUnicode æä¾›äº†ä¸¤ç§æ–¹æ³•ã€‚ä¸€ç§æ˜¯ç›´æ¥æä¾›å¸¦é‡éŸ³ç¬¦å·çš„å­—ç¬¦ï¼Œæ¯”å¦‚`Ç‘`ï¼ˆ\u01D1ï¼‰ã€‚å¦ä¸€ç§æ˜¯æä¾›åˆæˆç¬¦å·ï¼ˆcombining characterï¼‰ï¼Œå³åŸå­—ç¬¦ä¸é‡éŸ³ç¬¦å·çš„åˆæˆï¼Œä¸¤ä¸ªå­—ç¬¦åˆæˆä¸€ä¸ªå­—ç¬¦ï¼Œæ¯”å¦‚`O`ï¼ˆ\u004Fï¼‰å’Œ`Ë‡`ï¼ˆ\u030Cï¼‰åˆæˆ`Ç‘`ï¼ˆ\u004F\u030Cï¼‰ã€‚è¿™ä¸¤ç§è¡¨ç¤ºæ–¹æ³•ï¼Œåœ¨è§†è§‰å’Œè¯­ä¹‰ä¸Šéƒ½ç­‰ä»·ï¼Œä½†æ˜¯ JS ä¸èƒ½è¯†åˆ«ã€‚

    ```js
    '\u01D1'==='\u004F\u030C' //false
    
    '\u01D1'.length // 1
    '\u004F\u030C'.length // 2
    ```

    > ä¸Šé¢ä»£ç è¡¨ç¤ºï¼ŒJS å°†åˆæˆå­—ç¬¦è§†ä¸ºä¸¤ä¸ªå­—ç¬¦ï¼Œå¯¼è‡´ä¸¤ç§è¡¨ç¤ºæ–¹æ³•ä¸ç›¸ç­‰ã€‚
    >

    ES6 æä¾›å­—ç¬¦ä¸²å®ä¾‹çš„`normalize()`æ–¹æ³•ï¼Œç”¨æ¥å°†å­—ç¬¦çš„ä¸åŒè¡¨ç¤ºæ–¹æ³•ç»Ÿä¸€ä¸ºåŒæ ·çš„å½¢å¼ï¼Œè¿™ç§°ä¸º Unicode æ­£è§„åŒ–ã€‚

    ```js
    '\u01D1'.normalize() === '\u004F\u030C'.normalize()
    // true
    ```

    `normalize`æ–¹æ³•å¯ä»¥æ¥å—ä¸€ä¸ªå‚æ•°æ¥æŒ‡å®š`normalize`çš„æ–¹å¼ï¼Œå‚æ•°çš„å››ä¸ªå¯é€‰å€¼å¦‚ä¸‹ï¼š

    - `NFC`ï¼Œé»˜è®¤å‚æ•°ï¼Œè¡¨ç¤ºâ€œæ ‡å‡†ç­‰ä»·åˆæˆâ€ï¼ˆNormalization Form Canonical Compositionï¼‰ï¼Œè¿”å›å¤šä¸ªç®€å•å­—ç¬¦çš„åˆæˆå­—ç¬¦ã€‚æ‰€è°“â€œæ ‡å‡†ç­‰ä»·â€æŒ‡çš„æ˜¯è§†è§‰å’Œè¯­ä¹‰ä¸Šçš„ç­‰ä»·ã€‚
    - `NFD`ï¼Œè¡¨ç¤ºâ€œæ ‡å‡†ç­‰ä»·åˆ†è§£â€ï¼ˆNormalization Form Canonical Decompositionï¼‰ï¼Œå³åœ¨æ ‡å‡†ç­‰ä»·çš„å‰æä¸‹ï¼Œè¿”å›åˆæˆå­—ç¬¦åˆ†è§£çš„å¤šä¸ªç®€å•å­—ç¬¦ã€‚
    - `NFKC`ï¼Œè¡¨ç¤ºâ€œå…¼å®¹ç­‰ä»·åˆæˆâ€ï¼ˆNormalization Form Compatibility Compositionï¼‰ï¼Œè¿”å›åˆæˆå­—ç¬¦ã€‚æ‰€è°“â€œå…¼å®¹ç­‰ä»·â€æŒ‡çš„æ˜¯è¯­ä¹‰ä¸Šå­˜åœ¨ç­‰ä»·ï¼Œä½†è§†è§‰ä¸Šä¸ç­‰ä»·ï¼Œæ¯”å¦‚â€œå›â€å’Œâ€œå–œå–œâ€ã€‚ï¼ˆè¿™åªæ˜¯ç”¨æ¥ä¸¾ä¾‹ï¼Œ`normalize`æ–¹æ³•ä¸èƒ½è¯†åˆ«ä¸­æ–‡ã€‚ï¼‰
    - `NFKD`ï¼Œè¡¨ç¤ºâ€œå…¼å®¹ç­‰ä»·åˆ†è§£â€ï¼ˆNormalization Form Compatibility Decompositionï¼‰ï¼Œå³åœ¨å…¼å®¹ç­‰ä»·çš„å‰æä¸‹ï¼Œè¿”å›åˆæˆå­—ç¬¦åˆ†è§£çš„å¤šä¸ªç®€å•å­—ç¬¦ã€‚

    ```js
    '\u004F\u030C'.normalize('NFC').length // 1
    '\u004F\u030C'.normalize('NFD').length // 2
    ```

    > ä¸Šé¢ä»£ç è¡¨ç¤ºï¼Œ`NFC`å‚æ•°è¿”å›å­—ç¬¦çš„åˆæˆå½¢å¼ï¼Œ`NFD`å‚æ•°è¿”å›å­—ç¬¦çš„åˆ†è§£å½¢å¼ã€‚
    >
    > ä¸è¿‡ï¼Œ`normalize`æ–¹æ³•ç›®å‰ä¸èƒ½è¯†åˆ«ä¸‰ä¸ªæˆ–ä¸‰ä¸ªä»¥ä¸Šå­—ç¬¦çš„åˆæˆã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œè¿˜æ˜¯åªèƒ½ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ï¼Œé€šè¿‡ Unicode ç¼–å·åŒºé—´åˆ¤æ–­ã€‚

- `includes()ã€startsWith()ã€endsWith()`ï¼šä¼ ç»Ÿä¸Šï¼ŒJS åªæœ‰`indexOf`æ–¹æ³•ï¼Œå¯ä»¥ç”¨æ¥ç¡®å®šä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦åŒ…å«åœ¨å¦ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­ã€‚ES6 åˆæä¾›äº†ä¸‰ç§æ–°æ–¹æ³•ã€‚

    - `includes()`ï¼šè¿”å›å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦æ‰¾åˆ°äº†å‚æ•°å­—ç¬¦ä¸²ã€‚
    - `startsWith()`ï¼šè¿”å›å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºå‚æ•°å­—ç¬¦ä¸²æ˜¯å¦åœ¨åŸå­—ç¬¦ä¸²çš„å¤´éƒ¨ã€‚
    - `endsWith()`ï¼šè¿”å›å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºå‚æ•°å­—ç¬¦ä¸²æ˜¯å¦åœ¨åŸå­—ç¬¦ä¸²çš„å°¾éƒ¨ã€‚

    ```js
    let s = 'Hello world!';
    
    s.startsWith('Hello') // true
    s.endsWith('!') // true
    s.includes('o') // true
    ```

    > è¿™ä¸‰ä¸ªæ–¹æ³•éƒ½æ”¯æŒç¬¬äºŒä¸ªå‚æ•°ï¼Œè¡¨ç¤ºå¼€å§‹æœç´¢çš„ä½ç½®ã€‚
    >

    ```js
    let s = 'Hello world!';
    
    s.startsWith('world', 6) // true
    s.endsWith('Hello', 5) // true
    s.includes('Hello', 6) // false
    ```

    > ä¸Šé¢ä»£ç è¡¨ç¤ºï¼Œä½¿ç”¨ç¬¬äºŒä¸ªå‚æ•°`n`æ—¶ï¼Œ`endsWith`çš„è¡Œä¸ºä¸å…¶ä»–ä¸¤ä¸ªæ–¹æ³•æœ‰æ‰€ä¸åŒã€‚å®ƒé’ˆå¯¹å‰`n`ä¸ªå­—ç¬¦ï¼Œè€Œå…¶ä»–ä¸¤ä¸ªæ–¹æ³•é’ˆå¯¹ä»ç¬¬`n`ä¸ªä½ç½®ç›´åˆ°å­—ç¬¦ä¸²ç»“æŸã€‚

- `repeat()`ï¼š`repeat`æ–¹æ³•è¿”å›ä¸€ä¸ªæ–°å­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºå°†åŸå­—ç¬¦ä¸²é‡å¤`n`æ¬¡ã€‚

    ```js
    'x'.repeat(3) // "xxx"
    'hello'.repeat(2) // "hellohello"
    'na'.repeat(0) // ""
    ```

    > å‚æ•°å¦‚æœæ˜¯å°æ•°ï¼Œä¼šè¢«å–æ•´ã€‚
    >

    ```js
    'na'.repeat(2.9) // "nana"
    ```

    > å¦‚æœ`repeat`çš„å‚æ•°æ˜¯è´Ÿæ•°æˆ–è€…`Infinity`ï¼Œä¼šæŠ¥é”™ã€‚
    >

    ```js
    'na'.repeat(Infinity)
    // RangeError
    'na'.repeat(-1)
    // RangeError
    ```

    > ä½†æ˜¯ï¼Œå¦‚æœå‚æ•°æ˜¯ 0 åˆ°-1 ä¹‹é—´çš„å°æ•°ï¼Œåˆ™ç­‰åŒäº 0ï¼Œè¿™æ˜¯å› ä¸ºä¼šå…ˆè¿›è¡Œå–æ•´è¿ç®—ã€‚0 åˆ°-1 ä¹‹é—´çš„å°æ•°ï¼Œå–æ•´ä»¥åç­‰äº`-0`ï¼Œ`repeat`è§†åŒä¸º 0ã€‚
    >

    ```js
    'na'.repeat(-0.9) // ""
    ```

    > å‚æ•°`NaN`ç­‰åŒäº 0ã€‚
    >

    ```js
    'na'.repeat(NaN) // ""
    ```

    > å¦‚æœ`repeat`çš„å‚æ•°æ˜¯å­—ç¬¦ä¸²ï¼Œåˆ™ä¼šå…ˆè½¬æ¢æˆæ•°å­—ã€‚
    >

    ```js
    'na'.repeat('na') // ""
    'na'.repeat('3') // "nanana"
    ```

- `padStart()ã€padEnd()`ï¼šES2017 å¼•å…¥äº†å­—ç¬¦ä¸²è¡¥å…¨é•¿åº¦çš„åŠŸèƒ½ã€‚å¦‚æœæŸä¸ªå­—ç¬¦ä¸²ä¸å¤ŸæŒ‡å®šé•¿åº¦ï¼Œä¼šåœ¨å¤´éƒ¨æˆ–å°¾éƒ¨è¡¥å…¨ã€‚`padStart()`ç”¨äºå¤´éƒ¨è¡¥å…¨ï¼Œ`padEnd()`ç”¨äºå°¾éƒ¨è¡¥å…¨ã€‚

    ```js
    'x'.padStart(5, 'ab') // 'ababx'
    'x'.padStart(4, 'ab') // 'abax'
    
    'x'.padEnd(5, 'ab') // 'xabab'
    'x'.padEnd(4, 'ab') // 'xaba'
    ```

    > ä¸Šé¢ä»£ç ä¸­ï¼Œ`padStart()`å’Œ`padEnd()`ä¸€å…±æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å­—ç¬¦ä¸²è¡¥å…¨ç”Ÿæ•ˆçš„æœ€å¤§é•¿åº¦ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ç”¨æ¥è¡¥å…¨çš„å­—ç¬¦ä¸²ã€‚
    >
    > å¦‚æœåŸå­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œç­‰äºæˆ–å¤§äºæœ€å¤§é•¿åº¦ï¼Œåˆ™å­—ç¬¦ä¸²è¡¥å…¨ä¸ç”Ÿæ•ˆï¼Œè¿”å›åŸå­—ç¬¦ä¸²ã€‚

    ```js
    'xxx'.padStart(2, 'ab') // 'xxx'
    'xxx'.padEnd(2, 'ab') // 'xxx'
    ```

    > å¦‚æœç”¨æ¥è¡¥å…¨çš„å­—ç¬¦ä¸²ä¸åŸå­—ç¬¦ä¸²ï¼Œä¸¤è€…çš„é•¿åº¦ä¹‹å’Œè¶…è¿‡äº†æœ€å¤§é•¿åº¦ï¼Œåˆ™ä¼šæˆªå»è¶…å‡ºä½æ•°çš„è¡¥å…¨å­—ç¬¦ä¸²ã€‚
    >

    ```js
    'abc'.padStart(10, '0123456789')
    // '0123456abc'
    ```

    > å¦‚æœçœç•¥ç¬¬äºŒä¸ªå‚æ•°ï¼Œé»˜è®¤ä½¿ç”¨ç©ºæ ¼è¡¥å…¨é•¿åº¦ã€‚
    >

    ```js
    'x'.padStart(4) // '   x'
    'x'.padEnd(4) // 'x   '
    ```

    > `padStart()`çš„å¸¸è§ç”¨é€”æ˜¯ä¸ºæ•°å€¼è¡¥å…¨æŒ‡å®šä½æ•°ã€‚ä¸‹é¢ä»£ç ç”Ÿæˆ 10 ä½çš„æ•°å€¼å­—ç¬¦ä¸²ã€‚

    ```js
    '1'.padStart(10, '0') // "0000000001"
    '12'.padStart(10, '0') // "0000000012"
    '123456'.padStart(10, '0') // "0000123456"
    ```

    > å¦ä¸€ä¸ªç”¨é€”æ˜¯æç¤ºå­—ç¬¦ä¸²æ ¼å¼ã€‚
    >

    ```js
    '12'.padStart(10, 'YYYY-MM-DD') // "YYYY-MM-12"
    '09-12'.padStart(10, 'YYYY-MM-DD') // "YYYY-09-12"
    ```

- `trimStart()ã€trimEnd()`ï¼š[ES2019](https://github.com/tc39/proposal-string-left-right-trim) å¯¹å­—ç¬¦ä¸²å®ä¾‹æ–°å¢äº†`trimStart()`å’Œ`trimEnd()`è¿™ä¸¤ä¸ªæ–¹æ³•ã€‚å®ƒä»¬çš„è¡Œä¸ºä¸`trim()`ä¸€è‡´ï¼Œ`trimStart()`æ¶ˆé™¤å­—ç¬¦ä¸²å¤´éƒ¨çš„ç©ºæ ¼ï¼Œ`trimEnd()`æ¶ˆé™¤å°¾éƒ¨çš„ç©ºæ ¼ã€‚å®ƒä»¬è¿”å›çš„éƒ½æ˜¯æ–°å­—ç¬¦ä¸²ï¼Œä¸ä¼šä¿®æ”¹åŸå§‹å­—ç¬¦ä¸²ã€‚

    ```js
    const s = '  abc  ';
    
    s.trim() // "abc"
    s.trimStart() // "abc  "
    s.trimEnd() // "  abc"
    ```

    > ä¸Šé¢ä»£ç ä¸­ï¼Œ`trimStart()`åªæ¶ˆé™¤å¤´éƒ¨çš„ç©ºæ ¼ï¼Œä¿ç•™å°¾éƒ¨çš„ç©ºæ ¼ã€‚`trimEnd()`ä¹Ÿæ˜¯ç±»ä¼¼è¡Œä¸ºã€‚
    >
    > é™¤äº†ç©ºæ ¼é”®ï¼Œè¿™ä¸¤ä¸ªæ–¹æ³•å¯¹å­—ç¬¦ä¸²å¤´éƒ¨ï¼ˆæˆ–å°¾éƒ¨ï¼‰çš„ tab é”®ã€æ¢è¡Œç¬¦ç­‰ä¸å¯è§çš„ç©ºç™½ç¬¦å·ä¹Ÿæœ‰æ•ˆã€‚
    >
    > æµè§ˆå™¨è¿˜éƒ¨ç½²äº†é¢å¤–çš„ä¸¤ä¸ªæ–¹æ³•ï¼Œ`trimLeft()`æ˜¯`trimStart()`çš„åˆ«åï¼Œ`trimRight()`æ˜¯`trimEnd()`çš„åˆ«åã€‚

- `matchAll()`ï¼š`matchAll()`æ–¹æ³•è¿”å›ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼åœ¨å½“å‰å­—ç¬¦ä¸²çš„æ‰€æœ‰åŒ¹é…ï¼Œè¯¦è§ã€Šæ­£åˆ™çš„æ‰©å±•ã€‹çš„ä¸€ç« ã€‚

- `replaceAll()`ï¼šå†å²ä¸Šï¼Œå­—ç¬¦ä¸²çš„å®ä¾‹æ–¹æ³•`replace()`åªèƒ½æ›¿æ¢ç¬¬ä¸€ä¸ªåŒ¹é…ã€‚

    ```js
    'aabbcc'.replace('b', '_')
    // 'aa_bcc'
    ```

    > ä¸Šé¢ä¾‹å­ä¸­ï¼Œ`replace()`åªå°†ç¬¬ä¸€ä¸ª`b`æ›¿æ¢æˆäº†ä¸‹åˆ’çº¿ã€‚
    >
    > å¦‚æœè¦æ›¿æ¢æ‰€æœ‰çš„åŒ¹é…ï¼Œä¸å¾—ä¸ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼çš„`g`ä¿®é¥°ç¬¦ã€‚

    ```js
    'aabbcc'.replace(/b/g, '_')
    // 'aa__cc'
    ```

    > æ­£åˆ™è¡¨è¾¾å¼æ¯•ç«Ÿä¸æ˜¯é‚£ä¹ˆæ–¹ä¾¿å’Œç›´è§‚ï¼Œ[ES2021](https://github.com/tc39/proposal-string-replaceall) å¼•å…¥äº†`replaceAll()`æ–¹æ³•ï¼Œå¯ä»¥ä¸€æ¬¡æ€§æ›¿æ¢æ‰€æœ‰åŒ¹é…ã€‚
    >

    ```js
    'aabbcc'.replaceAll('b', '_')
    // 'aa__cc'
    ```

    > å®ƒçš„ç”¨æ³•ä¸`replace()`ç›¸åŒï¼Œè¿”å›ä¸€ä¸ªæ–°å­—ç¬¦ä¸²ï¼Œä¸ä¼šæ”¹å˜åŸå­—ç¬¦ä¸²ã€‚
    >

    ```js
    String.prototype.replaceAll(searchValue, replacement)
    ```

    > ä¸Šé¢ä»£ç ä¸­ï¼Œ`searchValue`æ˜¯æœç´¢æ¨¡å¼ï¼Œå¯ä»¥æ˜¯ä¸€ä¸ª**å­—ç¬¦ä¸²**ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ª**å…¨å±€çš„æ­£åˆ™è¡¨è¾¾å¼ï¼ˆå¸¦æœ‰`g`ä¿®é¥°ç¬¦ï¼‰**ã€‚å¦‚æœ`searchValue`æ˜¯ä¸€ä¸ªä¸å¸¦æœ‰`g`ä¿®é¥°ç¬¦çš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œ`replaceAll()`ä¼šæŠ¥é”™ã€‚è¿™ä¸€ç‚¹è·Ÿ`replace()`ä¸åŒã€‚

    ```js
    // ä¸æŠ¥é”™
    'aabbcc'.replace(/b/, '_')
    
    // æŠ¥é”™
    'aabbcc'.replaceAll(/b/, '_')
    ```

    > ä¸Šé¢ä¾‹å­ä¸­ï¼Œ`/b/`ä¸å¸¦æœ‰`g`ä¿®é¥°ç¬¦ï¼Œä¼šå¯¼è‡´`replaceAll()`æŠ¥é”™ã€‚
    >
    > `replaceAll()`çš„ç¬¬äºŒä¸ªå‚æ•°`replacement`æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºæ›¿æ¢çš„æ–‡æœ¬ï¼Œå…¶ä¸­å¯ä»¥ä½¿ç”¨ä¸€äº›ç‰¹æ®Šå­—ç¬¦ä¸²ã€‚

    - `$&`ï¼šåŒ¹é…çš„å­—ç¬¦ä¸²ã€‚
    - **$\`**ï¼šåŒ¹é…ç»“æœå‰é¢çš„ï¼ˆæ‰€æœ‰ï¼‰æ–‡æœ¬ã€‚
    - `$'`ï¼šåŒ¹é…ç»“æœåé¢çš„ï¼ˆæ‰€æœ‰ï¼‰æ–‡æœ¬ã€‚
    - `$n`ï¼šåŒ¹é…æˆåŠŸçš„ç¬¬`n`ç»„å†…å®¹ï¼Œ`n`æ˜¯ä»1å¼€å§‹çš„è‡ªç„¶æ•°ã€‚è¿™ä¸ªå‚æ•°ç”Ÿæ•ˆçš„å‰ææ˜¯ï¼Œç¬¬ä¸€ä¸ªå‚æ•°å¿…é¡»æ˜¯æ­£åˆ™è¡¨è¾¾å¼ã€‚
    - `$$`ï¼šæŒ‡ä»£ç¾å…ƒç¬¦å·`$`ã€‚

    > ä¸‹é¢æ˜¯ä¸€äº›ä¾‹å­ã€‚
    >

    ```js
    // $& è¡¨ç¤ºåŒ¹é…çš„å­—ç¬¦ä¸²ï¼Œå³`b`æœ¬èº«
    // æ‰€ä»¥è¿”å›ç»“æœä¸åŸå­—ç¬¦ä¸²ä¸€è‡´
    'abbc'.replaceAll('b', '$&')
    // 'abbc'
    
    // $` è¡¨ç¤ºåŒ¹é…ç»“æœä¹‹å‰çš„å­—ç¬¦ä¸²
    // å¯¹äºç¬¬ä¸€ä¸ª`b`ï¼Œ$` æŒ‡ä»£`a`
    // å¯¹äºç¬¬äºŒä¸ª`b`ï¼Œ$` æŒ‡ä»£`ab`
    'abbc'.replaceAll('b', '$`')
    // 'aaabc'
    
    // $' è¡¨ç¤ºåŒ¹é…ç»“æœä¹‹åçš„å­—ç¬¦ä¸²
    // å¯¹äºç¬¬ä¸€ä¸ª`b`ï¼Œ$' æŒ‡ä»£`bc`
    // å¯¹äºç¬¬äºŒä¸ª`b`ï¼Œ$' æŒ‡ä»£`c`
    'abbc'.replaceAll('b', `$'`)
    // 'abccc'
    
    // $1 è¡¨ç¤ºæ­£åˆ™è¡¨è¾¾å¼çš„ç¬¬ä¸€ä¸ªç»„åŒ¹é…ï¼ŒæŒ‡ä»£`ab`
    // $2 è¡¨ç¤ºæ­£åˆ™è¡¨è¾¾å¼çš„ç¬¬äºŒä¸ªç»„åŒ¹é…ï¼ŒæŒ‡ä»£`bc`
    'abbc'.replaceAll(/(ab)(bc)/g, '$2$1')
    // 'bcab'
    
    // $$ æŒ‡ä»£ $
    'abc'.replaceAll('b', '$$')
    // 'a$c'
    ```

    > `replaceAll()`çš„ç¬¬äºŒä¸ªå‚æ•°`replacement`é™¤äº†ä¸ºå­—ç¬¦ä¸²ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°çš„è¿”å›å€¼å°†æ›¿æ¢æ‰ç¬¬ä¸€ä¸ªå‚æ•°`searchValue`åŒ¹é…çš„æ–‡æœ¬ã€‚

    ```js
    'aabbcc'.replaceAll('b', () => '_')
    // 'aa__cc'
    ```

    > ä¸Šé¢ä¾‹å­ä¸­ï¼Œ`replaceAll()`çš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°çš„è¿”å›å€¼ä¼šæ›¿æ¢æ‰æ‰€æœ‰`b`çš„åŒ¹é…ã€‚
    >
    > è¿™ä¸ª**æ›¿æ¢å‡½æ•°**å¯ä»¥æ¥å—å¤šä¸ªå‚æ•°ã€‚ç¬¬1ä¸ªå‚æ•°æ˜¯æ•æ‰åˆ°çš„åŒ¹é…å†…å®¹ï¼Œç¬¬2ä¸ªå‚æ•°æ˜¯æ•æ‰åˆ°çš„ç»„åŒ¹é…ï¼ˆæœ‰å¤šå°‘ä¸ªç»„åŒ¹é…ï¼Œå°±æœ‰å¤šå°‘ä¸ªå¯¹åº”çš„å‚æ•°ï¼‰ã€‚æ­¤å¤–ï¼Œæœ€åè¿˜å¯ä»¥æ·»åŠ ä¸¤ä¸ªå‚æ•°ï¼Œå€’æ•°ç¬¬2ä¸ªå‚æ•°æ˜¯æ•æ‰åˆ°çš„å†…å®¹åœ¨æ•´ä¸ªå­—ç¬¦ä¸²ä¸­çš„ä½ç½®ï¼Œæœ€å1ä¸ªå‚æ•°æ˜¯åŸå­—ç¬¦ä¸²ã€‚

    ```js
    const str = '123abc456';
    const regex = /(\d+)([a-z]+)(\d+)/g;
    
    function replacer(match, p1, p2, p3, offset, string) {
      return [p1, p2, p3].join(' - ');
    }
    
    str.replaceAll(regex, replacer)
    // 123 - abc - 456
    ```

    > ä¸Šé¢ä¾‹å­ä¸­ï¼Œæ­£åˆ™è¡¨è¾¾å¼æœ‰ä¸‰ä¸ªç»„åŒ¹é…ï¼Œæ‰€ä»¥`replacer()`å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°`match`æ˜¯æ•æ‰åˆ°çš„åŒ¹é…å†…å®¹ï¼ˆå³å­—ç¬¦ä¸²`123abc456`ï¼‰ï¼Œåé¢ä¸‰ä¸ªå‚æ•°`p1`ã€`p2`ã€`p3`åˆ™ä¾æ¬¡ä¸ºä¸‰ä¸ªç»„åŒ¹é…ã€‚

- `at()`ï¼š`at()`æ–¹æ³•æ¥å—ä¸€ä¸ªæ•´æ•°ä½œä¸ºå‚æ•°ï¼Œè¿”å›å‚æ•°æŒ‡å®šä½ç½®çš„å­—ç¬¦ï¼Œæ”¯æŒè´Ÿç´¢å¼•ï¼ˆå³å€’æ•°çš„ä½ç½®ï¼‰ã€‚

    ```js
    const str = 'hello';
    str.at(1) // "e"
    str.at(-1) // "o"
    ```

    > å¦‚æœå‚æ•°ä½ç½®è¶…å‡ºäº†å­—ç¬¦ä¸²èŒƒå›´ï¼Œ`at()`è¿”å›`undefined`ã€‚
    >
    > è¯¥æ–¹æ³•æ¥è‡ªæ•°ç»„æ·»åŠ çš„`at()`æ–¹æ³•ï¼Œç›®å‰è¿˜æ˜¯ä¸€ä¸ªç¬¬ä¸‰é˜¶æ®µçš„ææ¡ˆï¼Œå¯ä»¥å‚è€ƒã€Šæ•°ç»„ã€‹ä¸€ç« çš„ä»‹ç»ã€‚

- `toWellFormed()`ï¼šES2024 å¼•å…¥äº†æ–°çš„å­—ç¬¦ä¸²æ–¹æ³•`toWellFormed()`ï¼Œç”¨æ¥å¤„ç† Unicode çš„ä»£ç†å­—ç¬¦å¯¹é—®é¢˜ï¼ˆsurrogatesï¼‰ã€‚

    > JS è¯­è¨€å†…éƒ¨ä½¿ç”¨ UTF-16 æ ¼å¼ï¼Œè¡¨ç¤ºæ¯ä¸ªå­—ç¬¦ã€‚UTF-16 åªæœ‰16ä½ï¼Œåªèƒ½è¡¨ç¤ºç ç‚¹åœ¨`U+0000`åˆ°`U+FFFF`ä¹‹é—´çš„ Unicode å­—ç¬¦ã€‚å¯¹äºç ç‚¹å¤§äº`U+FFFF`çš„ Unicode å­—ç¬¦ï¼ˆå³ç ç‚¹å¤§äº16ä½çš„å­—ç¬¦ï¼Œ`U+10000`åˆ°`U+10FFFF`ï¼‰ï¼Œè§£å†³åŠæ³•æ˜¯ä½¿ç”¨ä»£ç†å­—ç¬¦å¯¹ï¼Œå³ç”¨ä¸¤ä¸ª UTF-16 å­—ç¬¦ç»„åˆè¡¨ç¤ºã€‚
    >
    > å…·ä½“æ¥è¯´ï¼ŒUTF-16 è§„å®šï¼Œ`U+D800`è‡³`U+DFFF`æ˜¯ç©ºå­—ç¬¦æ®µï¼Œä¸“é—¨ç•™ç»™ä»£ç†å­—ç¬¦å¯¹ä½¿ç”¨ã€‚åªè¦é‡åˆ°è¿™ä¸ªèŒƒå›´å†…çš„ç ç‚¹ï¼Œå°±çŸ¥é“å®ƒæ˜¯ä»£ç†å­—ç¬¦å¯¹ï¼Œæœ¬èº«æ²¡æœ‰æ„ä¹‰ï¼Œå¿…é¡»ä¸¤ä¸ªå­—ç¬¦ç»“åˆåœ¨ä¸€èµ·è§£è¯»ã€‚å…¶ä¸­ï¼Œå‰ä¸€ä¸ªå­—ç¬¦çš„èŒƒå›´è§„å®šä¸º`0xD800`åˆ°`0xDBFF`ä¹‹é—´ï¼Œåä¸€ä¸ªå­—ç¬¦çš„èŒƒå›´è§„å®šä¸º`0xDC00`åˆ°`0xDFFF`ä¹‹é—´ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œç ç‚¹`U+1D306`å¯¹åº”çš„å­—ç¬¦ä¸º`ğŒ†`ï¼Œå®ƒå†™æˆ UTF-16 å°±æ˜¯`0xD834 0xDF06`ã€‚
    >
    > ä½†æ˜¯ï¼Œå­—ç¬¦ä¸²é‡Œé¢å¯èƒ½ä¼šå‡ºç°å•ä¸ªä»£ç†å­—ç¬¦å¯¹ï¼Œå³`U+D800`è‡³`U+DFFF`é‡Œé¢çš„å­—ç¬¦ï¼Œå®ƒæ²¡æœ‰é…å¯¹çš„å¦ä¸€ä¸ªå­—ç¬¦ï¼Œæ— æ³•è¿›è¡Œè§£è¯»ï¼Œå¯¼è‡´å‡ºç°å„ç§çŠ¶å†µã€‚
    >
    > `.toWellFormed()`å°±æ˜¯ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä¸æ”¹å˜åŸå§‹å­—ç¬¦ä¸²ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ï¼Œå°†åŸå§‹å­—ç¬¦ä¸²é‡Œé¢çš„å•ä¸ªä»£ç†å­—ç¬¦å¯¹ï¼Œéƒ½æ›¿æ¢ä¸º`U+FFFD`ï¼Œä»è€Œå¯ä»¥åœ¨ä»»ä½•æ­£å¸¸å¤„ç†å­—ç¬¦ä¸²çš„å‡½æ•°é‡Œé¢ä½¿ç”¨ã€‚

    ```js
    "ab\uD800".toWellFormed() // 'abï¿½'
    ```

    > ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œ`\uD800`æ˜¯å•ä¸ªçš„ä»£ç†å­—ç¬¦å¯¹ï¼Œå•ç‹¬ä½¿ç”¨æ—¶æ²¡æœ‰æ„ä¹‰ã€‚`toWellFormed()`å°†è¿™ä¸ªå­—ç¬¦è½¬ä¸º`\uFFFD`ã€‚
    >
    > å†çœ‹ä¸‹é¢çš„ä¾‹å­ï¼Œ`encodeURI()`é‡åˆ°å•ä¸ªçš„ä»£ç†å­—ç¬¦å¯¹ï¼Œä¼šæŠ¥é”™ã€‚

    ```js
    const illFormed = "https://example.com/search?q=\uD800";
    encodeURI(illFormed) // æŠ¥é”™
    ```

    > `toWellFormed()`å°†å…¶è½¬æ¢æ ¼å¼åï¼Œå†ä½¿ç”¨`encodeURI()`å°±ä¸ä¼šæŠ¥é”™äº†ã€‚

    ```js
    const illFormed = "https://example.com/search?q=\uD800";
    encodeURI(illFormed.toWellFormed()) // æ­£ç¡®
    ```

- ## æ•°å€¼çš„æ‰©å±•

  - #### æ•°å€¼åˆ†éš”ç¬¦

    æ¬§ç¾è¯­è¨€ä¸­ï¼Œè¾ƒé•¿çš„æ•°å€¼å…è®¸æ¯ä¸‰ä½æ·»åŠ ä¸€ä¸ªåˆ†éš”ç¬¦ï¼ˆé€šå¸¸æ˜¯ä¸€ä¸ªé€—å·ï¼‰ï¼Œå¢åŠ æ•°å€¼çš„å¯è¯»æ€§ã€‚æ¯”å¦‚ï¼Œ`1000`å¯ä»¥å†™ä½œ`1,000`ã€‚
  
    [ES2021](https://github.com/tc39/proposal-numeric-separator)ï¼Œå…è®¸ JS çš„æ•°å€¼ä½¿ç”¨ä¸‹åˆ’çº¿ï¼ˆ`_`ï¼‰ä½œä¸ºåˆ†éš”ç¬¦ã€‚
  
    ```js
    let budget = 1_000_000_000_000;
    budget === 10 ** 12 // true
    ```
  
    è¿™ä¸ªæ•°å€¼åˆ†éš”ç¬¦æ²¡æœ‰æŒ‡å®šé—´éš”çš„ä½æ•°ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¯ä»¥æ¯ä¸‰ä½æ·»åŠ ä¸€ä¸ªåˆ†éš”ç¬¦ï¼Œä¹Ÿå¯ä»¥æ¯ä¸€ä½ã€æ¯ä¸¤ä½ã€æ¯å››ä½æ·»åŠ ä¸€ä¸ªã€‚
  
    ```js
    123_00 === 12_300 // true
    
    12345_00 === 123_4500 // true
    12345_00 === 1_234_500 // true
    ```
  
    å°æ•°å’Œç§‘å­¦è®¡æ•°æ³•ä¹Ÿå¯ä»¥ä½¿ç”¨æ•°å€¼åˆ†éš”ç¬¦ã€‚
  
    ```js
    // å°æ•°
    0.000_001
    
    // ç§‘å­¦è®¡æ•°æ³•
    1e10_000
    ```
  
    æ•°å€¼åˆ†éš”ç¬¦æœ‰å‡ ä¸ªä½¿ç”¨æ³¨æ„ç‚¹ï¼š

    - ä¸èƒ½æ”¾åœ¨æ•°å€¼çš„æœ€å‰é¢ï¼ˆleadingï¼‰æˆ–æœ€åé¢ï¼ˆtrailingï¼‰ã€‚
    - ä¸èƒ½ä¸¤ä¸ªæˆ–ä¸¤ä¸ªä»¥ä¸Šçš„åˆ†éš”ç¬¦è¿åœ¨ä¸€èµ·ã€‚
    - å°æ•°ç‚¹çš„å‰åä¸èƒ½æœ‰åˆ†éš”ç¬¦ã€‚
    - ç§‘å­¦è®¡æ•°æ³•é‡Œé¢ï¼Œè¡¨ç¤ºæŒ‡æ•°çš„`e`æˆ–`E`å‰åä¸èƒ½æœ‰åˆ†éš”ç¬¦ã€‚
  
    ä¸‹é¢çš„å†™æ³•éƒ½ä¼šæŠ¥é”™ã€‚
  
    ```js
    // å…¨éƒ¨æŠ¥é”™
    3_.141
    3._141
    1_e12
    1e_12
    123__456
    _1464301
    1464301_
    ```
  
    é™¤äº†åè¿›åˆ¶ï¼Œå…¶ä»–è¿›åˆ¶çš„æ•°å€¼ä¹Ÿå¯ä»¥ä½¿ç”¨åˆ†éš”ç¬¦ã€‚
  
    ```js
    // äºŒè¿›åˆ¶
    0b1010_0001_1000_0101
    // åå…­è¿›åˆ¶
    0xA0_B0_C0
    ```
  
    å¯ä»¥çœ‹åˆ°ï¼Œæ•°å€¼åˆ†éš”ç¬¦å¯ä»¥æŒ‰å­—èŠ‚é¡ºåºåˆ†éš”æ•°å€¼ï¼Œè¿™åœ¨æ“ä½œäºŒè¿›åˆ¶ä½æ—¶ï¼Œéå¸¸æœ‰ç”¨ã€‚
  
    æ³¨æ„ï¼Œåˆ†éš”ç¬¦ä¸èƒ½ç´§è·Ÿç€è¿›åˆ¶çš„å‰ç¼€`0b`ã€`0B`ã€`0o`ã€`0O`ã€`0x`ã€`0X`ã€‚
  
    ```js
    // æŠ¥é”™
    0_b111111000
    0b_111111000
    ```
  
    æ•°å€¼åˆ†éš”ç¬¦åªæ˜¯ä¸€ç§ä¹¦å†™ä¾¿åˆ©ï¼Œå¯¹äº JS å†…éƒ¨æ•°å€¼çš„å­˜å‚¨å’Œè¾“å‡ºï¼Œå¹¶æ²¡æœ‰å½±å“ã€‚
  
    ```js
    let num = 12_345;
    
    num // 12345
    num.toString() // 12345
    ```
  
    ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œå˜é‡`num`çš„å€¼ä¸º`12_345`ï¼Œä½†æ˜¯å†…éƒ¨å­˜å‚¨å’Œè¾“å‡ºçš„æ—¶å€™ï¼Œéƒ½ä¸ä¼šæœ‰æ•°å€¼åˆ†éš”ç¬¦ã€‚
  
    å½“ä½¿ç”¨è¿™3ä¸ªå‡½æ•°å°†å­—ç¬¦ä¸²è½¬æˆæ•°å€¼æ—¶ï¼š`Number()\parseInt()\parseFloat()`ï¼Œä¸æ”¯æŒæ•°å­—å­—ç¬¦ä¸²ä¸­ä½¿ç”¨æ•°å€¼åˆ†éš”ç¬¦ã€‚ä¸»è¦åŸå› æ˜¯è¯­è¨€çš„è®¾è®¡è€…è®¤ä¸ºï¼Œæ•°å€¼åˆ†éš”ç¬¦ä¸»è¦æ˜¯ä¸ºäº†ç¼–ç æ—¶ä¹¦å†™æ•°å€¼çš„æ–¹ä¾¿ï¼Œè€Œä¸æ˜¯ä¸ºäº†å¤„ç†å¤–éƒ¨è¾“å…¥çš„æ•°æ®ã€‚
  
    ```js
    Number('123_456') // NaN
    parseInt('123_456') // 123
    ```

  - #### `Number.isFinite()`, `Number.isNaN()`, `Number.parseInt()`, `Number.parseFloat()`

    > ES6 å°†å…¨å±€æ–¹æ³•`isFinite()ã€isNaN()ã€parseInt()ã€parseFloat()`ï¼Œéƒ½åœ¨`Number`å¯¹è±¡ä¸Šç§»æ¤äº†ä¸€ä»½ï¼Œè¡Œä¸ºåŸºæœ¬ä¿æŒä¸å˜ï¼Œåªæ˜¯ä¸å†åšç±»å‹è½¬æ¢äº†ã€‚è¿™æ ·åšè¿˜æœ‰ä¸€ä¸ªç›®çš„æ˜¯ï¼Œé€æ­¥å‡å°‘å…¨å±€æ€§æ–¹æ³•ï¼Œä½¿å¾—è¯­è¨€é€æ­¥æ¨¡å—åŒ–ã€‚
  
    - `Number.isFinite()`ï¼šåˆ¤æ–­ä¸€ä¸ªæ•°å€¼æ˜¯å¦ä¸ºæœ‰é™çš„ï¼ˆfiniteï¼‰ï¼Œå³ä¸æ˜¯`Infinity`ã€‚
  
      ```js
      Number.isFinite(15); // true
      Number.isFinite(0.8); // true
      Number.isFinite(NaN); // false
      Number.isFinite(Infinity); // false
      Number.isFinite(-Infinity); // false
      Number.isFinite('foo'); // false
      Number.isFinite('15'); // false
      Number.isFinite(true); // false
      ```
  
      æ³¨æ„ï¼Œå¦‚æœå‚æ•°ç±»å‹ä¸æ˜¯æ•°å€¼ï¼Œ`Number.isFinite`ä¸€å¾‹è¿”å›`false`ã€‚
  
    - `Number.isNaN()`ï¼šåˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯å¦ä¸º`NaN`ã€‚
  
      ```js
      Number.isNaN(NaN) // true
      Number.isNaN(15) // false
      Number.isNaN('15') // false
      Number.isNaN(true) // false
      Number.isNaN(9/NaN) // true
      Number.isNaN('true' / 0) // true
      Number.isNaN('true' / 'true') // true
      ```
  
      å¦‚æœå‚æ•°ç±»å‹ä¸æ˜¯`NaN`ï¼Œ`Number.isNaN`ä¸€å¾‹è¿”å›`false`ã€‚
  
      å®ƒä»¬ä¸ä¼ ç»Ÿçš„å…¨å±€æ–¹æ³•`isFinite()`å’Œ`isNaN()`çš„åŒºåˆ«åœ¨äºï¼Œä¼ ç»Ÿæ–¹æ³•å…ˆè°ƒç”¨`Number()`å°†éæ•°å€¼çš„å€¼è½¬ä¸ºæ•°å€¼ï¼ˆä¼šè¿›è¡Œç±»å‹è½¬æ¢ï¼‰ï¼Œå†è¿›è¡Œåˆ¤æ–­ã€‚è€Œè¿™ä¸¤ä¸ªæ–°æ–¹æ³•ä¸ä¼šåšç±»å‹è½¬æ¢ï¼Œåªå¯¹æ•°å€¼æœ‰æ•ˆï¼Œ`Number.isFinite()`å¯¹äºéæ•°å€¼ä¸€å¾‹è¿”å›`false`, `Number.isNaN()`åªæœ‰å¯¹äº`NaN`æ‰è¿”å›`true`ï¼Œé`NaN`ä¸€å¾‹è¿”å›`false`ã€‚
  
      ```js
      isFinite(25) // true
      isFinite("25") // true
      Number.isFinite(25) // true
      Number.isFinite("25") // false
      
      isNaN(NaN) // true
      isNaN("NaN") // true
      Number.isNaN(NaN) // true
      Number.isNaN("NaN") // false
      Number.isNaN(1) // false
      ```
  
    - `Number.parseInt()/Number.parseFloat()`ï¼šå®ƒä¿©å’ŒåŸæ¥çš„å…¨å±€å‡½æ•°çš„åŒºåˆ«æ˜¯ï¼Œåˆ¤æ–­ä¹‹å‰ä¸ä¼šåšç±»å‹è½¬æ¢ï¼Œæ›´ç¬¦åˆè®¤çŸ¥ã€‚
  
  - #### `Number.isInteger()`
  
    `Number.isInteger()`ç”¨æ¥åˆ¤æ–­ä¸€ä¸ªæ•°å€¼æ˜¯å¦ä¸ºæ•´æ•°ã€‚
  
    ```js
    Number.isInteger(25) // true
    Number.isInteger(25.1) // false
    ```
  
    JS å†…éƒ¨ï¼Œæ•´æ•°å’Œæµ®ç‚¹æ•°é‡‡ç”¨çš„æ˜¯åŒæ ·çš„å‚¨å­˜æ–¹æ³•ï¼Œæ‰€ä»¥ 25 å’Œ 25.0 è¢«è§†ä¸ºåŒä¸€ä¸ªå€¼ã€‚
  
    ```js
    Number.isInteger(25) // true
    Number.isInteger(25.0) // true
    ```
  
    å¦‚æœå‚æ•°ä¸æ˜¯æ•°å€¼ï¼Œ`Number.isInteger`è¿”å›`false`ã€‚
  
    ```js
    Number.isInteger() // false
    Number.isInteger(null) // false
    Number.isInteger('15') // false
    Number.isInteger(true) // false
    ```
  
    æ³¨æ„ï¼Œç”±äº JS é‡‡ç”¨ IEEE 754 æ ‡å‡†ï¼Œæ•°å€¼å­˜å‚¨ä¸º64ä½åŒç²¾åº¦æ ¼å¼ï¼Œæ•°å€¼ç²¾åº¦æœ€å¤šå¯ä»¥è¾¾åˆ° 53 ä¸ªäºŒè¿›åˆ¶ä½ï¼ˆ1 ä¸ªéšè—ä½ä¸ 52 ä¸ªæœ‰æ•ˆä½ï¼‰ã€‚å¦‚æœæ•°å€¼çš„ç²¾åº¦è¶…è¿‡è¿™ä¸ªé™åº¦ï¼Œç¬¬54ä½åŠåé¢çš„ä½å°±ä¼šè¢«ä¸¢å¼ƒï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œ`Number.isInteger`å¯èƒ½ä¼šè¯¯åˆ¤ã€‚
  
    ```js
    Number.isInteger(3.0000000000000002) // true
    ```
  
    ä¸Šé¢ä»£ç ä¸­ï¼Œ`Number.isInteger`çš„å‚æ•°æ˜æ˜ä¸æ˜¯æ•´æ•°ï¼Œä½†æ˜¯ä¼šè¿”å›`true`ã€‚åŸå› å°±æ˜¯è¿™ä¸ªå°æ•°çš„ç²¾åº¦è¾¾åˆ°äº†å°æ•°ç‚¹å16ä¸ªåè¿›åˆ¶ä½ï¼Œè½¬æˆäºŒè¿›åˆ¶ä½è¶…è¿‡äº†53ä¸ªäºŒè¿›åˆ¶ä½ï¼Œå¯¼è‡´æœ€åçš„é‚£ä¸ª`2`è¢«ä¸¢å¼ƒäº†ã€‚
  
    ç±»ä¼¼çš„æƒ…å†µè¿˜æœ‰ï¼Œå¦‚æœä¸€ä¸ªæ•°å€¼çš„ç»å¯¹å€¼å°äº`Number.MIN_VALUE`ï¼ˆ5E-324ï¼‰ï¼Œå³å°äº JS èƒ½å¤Ÿåˆ†è¾¨çš„æœ€å°å€¼ï¼Œä¼šè¢«è‡ªåŠ¨è½¬ä¸º 0ã€‚è¿™æ—¶ï¼Œ`Number.isInteger`ä¹Ÿä¼šè¯¯åˆ¤ã€‚
  
    ```js
    Number.isInteger(5E-324) // false
    Number.isInteger(5E-325) // true
    ```
  
    ä¸Šé¢ä»£ç ä¸­ï¼Œ`5E-325`ç”±äºå€¼å¤ªå°ï¼Œä¼šè¢«è‡ªåŠ¨è½¬ä¸º0ï¼Œå› æ­¤è¿”å›`true`ã€‚
  
    æ€»ä¹‹ï¼Œå¦‚æœå¯¹æ•°æ®ç²¾åº¦çš„è¦æ±‚è¾ƒé«˜ï¼Œä¸å»ºè®®ä½¿ç”¨`Number.isInteger()`åˆ¤æ–­ä¸€ä¸ªæ•°å€¼æ˜¯å¦ä¸ºæ•´æ•°ã€‚
  
  - #### `Number.EPSILON`
  
    ES6 åœ¨`Number`å¯¹è±¡ä¸Šé¢ï¼Œæ–°å¢ä¸€ä¸ªæå°çš„å¸¸é‡`Number.EPSILON`ï¼ˆÎµï¼‰ã€‚æ ¹æ®è§„æ ¼ï¼Œå®ƒè¡¨ç¤º 1 ä¸å¤§äº 1 çš„æœ€å°æµ®ç‚¹æ•°ä¹‹é—´çš„å·®ã€‚
  
    å¯¹äº 64 ä½æµ®ç‚¹æ•°æ¥è¯´ï¼Œå¤§äº 1 çš„æœ€å°æµ®ç‚¹æ•°ç›¸å½“äºäºŒè¿›åˆ¶çš„`1.00..001`ï¼Œå°æ•°ç‚¹åé¢æœ‰è¿ç»­ 51 ä¸ªé›¶ã€‚è¿™ä¸ªå€¼å‡å» 1 ä¹‹åï¼Œå°±ç­‰äº 2 çš„ -52 æ¬¡æ–¹ã€‚ï¼ˆä¸`number`ç±»å‹çš„ç²¾åº¦æœ‰å…³ï¼‰
  
    ```js
    Number.EPSILON === Math.pow(2, -52)
    // true
    Number.EPSILON
    // 2.220446049250313e-16
    Number.EPSILON.toFixed(20)
    // "0.00000000000000022204"
    ```
  
    `Number.EPSILON`å®é™…ä¸Šæ˜¯ JS èƒ½å¤Ÿè¡¨ç¤ºçš„æœ€å°ç²¾åº¦ã€‚è¯¯å·®å¦‚æœå°äºè¿™ä¸ªå€¼ï¼Œå°±å¯ä»¥è®¤ä¸ºå·²ç»æ²¡æœ‰æ„ä¹‰äº†ï¼Œå³ä¸å­˜åœ¨è¯¯å·®äº†ã€‚
  
    å¼•å…¥ä¸€ä¸ªè¿™ä¹ˆå°çš„é‡çš„ç›®çš„ï¼Œåœ¨äºä¸ºæµ®ç‚¹æ•°è®¡ç®—ï¼Œè®¾ç½®ä¸€ä¸ªè¯¯å·®èŒƒå›´ã€‚æˆ‘ä»¬çŸ¥é“æµ®ç‚¹æ•°è®¡ç®—æ˜¯ä¸ç²¾ç¡®çš„ã€‚
  
    ```js
    0.1 + 0.2
    // 0.30000000000000004
    
    0.1 + 0.2 - 0.3
    // 5.551115123125783e-17
    
    5.551115123125783e-17.toFixed(20)
    // '0.00000000000000005551'
    ```
  
    ä¸Šé¢ä»£ç è§£é‡Šäº†ï¼Œä¸ºä»€ä¹ˆæ¯”è¾ƒ`0.1 + 0.2`ä¸`0.3`å¾—åˆ°çš„ç»“æœæ˜¯`false`ã€‚
  
    ```js
    0.1 + 0.2 === 0.3 // false
    ```
  
    `Number.EPSILON`å¯ä»¥ç”¨æ¥è®¾ç½®â€œèƒ½å¤Ÿæ¥å—çš„è¯¯å·®èŒƒå›´â€ã€‚æ¯”å¦‚ï¼Œè¯¯å·®èŒƒå›´è®¾ä¸º 2 çš„-50 æ¬¡æ–¹ï¼ˆå³`Number.EPSILON * Math.pow(2, 2)`ï¼‰ï¼Œå³å¦‚æœä¸¤ä¸ªæµ®ç‚¹æ•°çš„å·®å°äºè¿™ä¸ªå€¼ï¼Œæˆ‘ä»¬å°±è®¤ä¸ºè¿™ä¸¤ä¸ªæµ®ç‚¹æ•°ç›¸ç­‰ã€‚
  
    ```js
    5.551115123125783e-17 < Number.EPSILON * Math.pow(2, 2)  // true
    ```
  
    å› æ­¤ï¼Œ`Number.EPSILON`çš„å®è´¨æ˜¯ä¸€ä¸ªå¯ä»¥æ¥å—çš„æœ€å°è¯¯å·®èŒƒå›´ã€‚
  
    ```js
    function withinErrorMargin (left, right) {
      return Math.abs(left - right) < Number.EPSILON * Math.pow(2, 2);
    }
    
    0.1 + 0.2 === 0.3 // false
    withinErrorMargin(0.1 + 0.2, 0.3) // true
    
    1.1 + 1.3 === 2.4 // false
    withinErrorMargin(1.1 + 1.3, 2.4) // true
    ```
  
    ä¸Šé¢çš„ä»£ç ä¸ºæµ®ç‚¹æ•°è¿ç®—ï¼Œéƒ¨ç½²äº†ä¸€ä¸ªè¯¯å·®æ£€æŸ¥å‡½æ•°ã€‚
  
  - #### å®‰å…¨æ•´æ•°å’Œ `Number.isSafeInteger()`
  
    JS èƒ½å¤Ÿå‡†ç¡®è¡¨ç¤ºçš„æ•´æ•°èŒƒå›´åœ¨`-2^53`åˆ°`2^53`ä¹‹é—´ï¼ˆä¸å«ä¸¤ä¸ªç«¯ç‚¹ï¼‰ï¼Œè¶…è¿‡è¿™ä¸ªèŒƒå›´ï¼Œæ— æ³•ç²¾ç¡®è¡¨ç¤ºè¿™ä¸ªå€¼ã€‚
  
    ```js
    Math.pow(2, 53) // 9007199254740992
    
    9007199254740992  // 9007199254740992
    9007199254740993  // 9007199254740992
    
    Math.pow(2, 53) === Math.pow(2, 53) + 1
    // true
    ```
  
    ä¸Šé¢ä»£ç ä¸­ï¼Œè¶…å‡º 2 çš„ 53 æ¬¡æ–¹ä¹‹åï¼Œä¸€ä¸ªæ•°å°±ä¸ç²¾ç¡®äº†ã€‚
  
    ES6 å¼•å…¥äº†`Number.MAX_SAFE_INTEGER`å’Œ`Number.MIN_SAFE_INTEGER`è¿™ä¸¤ä¸ªå¸¸é‡ï¼Œç”¨æ¥è¡¨ç¤ºè¿™ä¸ªèŒƒå›´çš„ä¸Šä¸‹é™ã€‚
  
    ```js
    Number.MAX_SAFE_INTEGER === Math.pow(2, 53) - 1
    // true
    Number.MAX_SAFE_INTEGER === 9007199254740991
    // true
    
    Number.MIN_SAFE_INTEGER === -Number.MAX_SAFE_INTEGER
    // true
    Number.MIN_SAFE_INTEGER === -9007199254740991
    // true
    ```
  
    ä¸Šé¢ä»£ç ä¸­ï¼Œå¯ä»¥çœ‹åˆ° JavaScript èƒ½å¤Ÿç²¾ç¡®è¡¨ç¤ºçš„æé™ã€‚
  
    `Number.isSafeInteger()`åˆ™æ˜¯ç”¨æ¥åˆ¤æ–­ä¸€ä¸ªæ•´æ•°æ˜¯å¦è½åœ¨è¿™ä¸ªèŒƒå›´ä¹‹å†…ã€‚
  
    ```js
    Number.isSafeInteger('a') // false
    Number.isSafeInteger(null) // false
    Number.isSafeInteger(NaN) // false
    Number.isSafeInteger(Infinity) // false
    Number.isSafeInteger(-Infinity) // false
    
    Number.isSafeInteger(3) // true
    Number.isSafeInteger(1.2) // false
    Number.isSafeInteger(9007199254740990) // true
    Number.isSafeInteger(9007199254740992) // false
    
    Number.isSafeInteger(Number.MIN_SAFE_INTEGER - 1) // false
    Number.isSafeInteger(Number.MIN_SAFE_INTEGER) // true
    Number.isSafeInteger(Number.MAX_SAFE_INTEGER) // true
    Number.isSafeInteger(Number.MAX_SAFE_INTEGER + 1) // false
    ```
  
    è¿™ä¸ªå‡½æ•°çš„å®ç°å¾ˆç®€å•ï¼Œå°±æ˜¯è·Ÿå®‰å…¨æ•´æ•°çš„ä¸¤ä¸ªè¾¹ç•Œå€¼æ¯”è¾ƒä¸€ä¸‹ã€‚
  
    ```js
    Number.isSafeInteger = function (n) {
      return (typeof n === 'number' &&
        Math.round(n) === n &&
        Number.MIN_SAFE_INTEGER <= n &&
        n <= Number.MAX_SAFE_INTEGER);
    }
    ```
  
    å®é™…ä½¿ç”¨è¿™ä¸ªå‡½æ•°æ—¶ï¼Œéœ€è¦æ³¨æ„ã€‚**éªŒè¯è¿ç®—ç»“æœæ˜¯å¦è½åœ¨å®‰å…¨æ•´æ•°çš„èŒƒå›´å†…ï¼Œä¸è¦åªéªŒè¯è¿ç®—ç»“æœï¼Œè€Œè¦åŒæ—¶éªŒè¯å‚ä¸è¿ç®—çš„æ¯ä¸ªå€¼ã€‚**
  
    ```js
    Number.isSafeInteger(9007199254740993)
    // false
    Number.isSafeInteger(990)
    // true
    Number.isSafeInteger(9007199254740993 - 990)
    // true
    9007199254740993 - 990
    // è¿”å›ç»“æœ 9007199254740002
    // æ­£ç¡®ç­”æ¡ˆåº”è¯¥æ˜¯ 9007199254740003
    ```
  
    ä¸Šé¢ä»£ç ä¸­ï¼Œ`9007199254740993`ä¸æ˜¯ä¸€ä¸ªå®‰å…¨æ•´æ•°ï¼Œä½†æ˜¯`Number.isSafeInteger`ä¼šè¿”å›ç»“æœï¼Œæ˜¾ç¤ºè®¡ç®—ç»“æœæ˜¯å®‰å…¨çš„ã€‚è¿™æ˜¯å› ä¸ºï¼Œè¿™ä¸ªæ•°è¶…å‡ºäº†ç²¾åº¦èŒƒå›´ï¼Œå¯¼è‡´åœ¨è®¡ç®—æœºå†…éƒ¨ï¼Œä»¥`9007199254740992`çš„å½¢å¼å‚¨å­˜ã€‚
  
    ```js
    9007199254740993 === 9007199254740992  // true
    ```
  
    æ‰€ä»¥ï¼Œå¦‚æœåªéªŒè¯è¿ç®—ç»“æœæ˜¯å¦ä¸ºå®‰å…¨æ•´æ•°ï¼Œå¾ˆå¯èƒ½å¾—åˆ°é”™è¯¯ç»“æœã€‚ä¸‹é¢çš„å‡½æ•°å¯ä»¥åŒæ—¶éªŒè¯ä¸¤ä¸ªè¿ç®—æ•°å’Œè¿ç®—ç»“æœã€‚
  
    ```js
    function trusty (left, right, result) {
      if (
        Number.isSafeInteger(left) &&
        Number.isSafeInteger(right) &&
        Number.isSafeInteger(result)
      ) {
        return result;
      }
      throw new RangeError('Operation cannot be trusted!');
    }
    
    trusty(9007199254740993, 990, 9007199254740993 - 990)
    // RangeError: Operation cannot be trusted!
    
    trusty(1, 2, 3)
    // 3
    ```
  
  - #### `Math` å¯¹è±¡çš„æ‰©å±•
  
    > ES6 åœ¨ Math å¯¹è±¡ä¸Šæ–°å¢äº† 17 ä¸ªä¸æ•°å­¦ç›¸å…³çš„æ–¹æ³•ã€‚æ‰€æœ‰è¿™äº›æ–¹æ³•éƒ½æ˜¯é™æ€æ–¹æ³•ï¼Œåªèƒ½åœ¨ Math å¯¹è±¡ä¸Šè°ƒç”¨ã€‚
  
    - `Math.trunc()`ï¼šè¯¥æ–¹æ³•ç”¨äºå»é™¤ä¸€ä¸ªæ•°çš„å°æ•°éƒ¨åˆ†ï¼Œè¿”å›æ•´æ•°éƒ¨åˆ†ã€‚
  
      ```js
      Math.trunc(4.1) // 4
      Math.trunc(4.9) // 4
      Math.trunc(-4.1) // -4
      Math.trunc(-4.9) // -4
      Math.trunc(-0.1234) // -0
      ```
  
      å¯¹äºéæ•°å€¼ï¼Œ`Math.trunc`å†…éƒ¨ä½¿ç”¨`Number`æ–¹æ³•å°†å…¶å…ˆè½¬ä¸ºæ•°å€¼ã€‚
  
      ```js
      Math.trunc('123.456') // 123
      Math.trunc(true) //1
      Math.trunc(false) // 0
      Math.trunc(null) // 0
      ```
  
      å¯¹äºç©ºå€¼å’Œæ— æ³•æˆªå–æ•´æ•°çš„å€¼ï¼Œè¿”å›`NaN`ã€‚
  
      ```js
      Math.trunc(NaN);      // NaN
      Math.trunc('foo');    // NaN
      Math.trunc();         // NaN
      Math.trunc(undefined) // NaN
      ```
  
      å¯¹äºæ²¡æœ‰éƒ¨ç½²è¿™ä¸ªæ–¹æ³•çš„ç¯å¢ƒï¼Œå¯ä»¥ç”¨ä¸‹é¢çš„ä»£ç æ¨¡æ‹Ÿã€‚
  
      ```js
      Math.trunc = Math.trunc || function(x) {
        return x < 0 ? Math.ceil(x) : Math.floor(x);
      };
      ```
  
    - `Math.sign()`ï¼šç”¨æ¥åˆ¤æ–­ä¸€ä¸ªæ•°åˆ°åº•æ˜¯æ­£æ•°ã€è´Ÿæ•°ã€è¿˜æ˜¯é›¶ã€‚å¯¹äºéæ•°å€¼ï¼Œä¼šå…ˆå°†å…¶è½¬æ¢ä¸ºæ•°å€¼ã€‚
  
      å®ƒä¼šè¿”å›äº”ç§å€¼ã€‚
  
      - å‚æ•°ä¸ºæ­£æ•°ï¼Œè¿”å›`+1`ï¼›
      - å‚æ•°ä¸ºè´Ÿæ•°ï¼Œè¿”å›`-1`ï¼›
      - å‚æ•°ä¸º 0ï¼Œè¿”å›`0`ï¼›
      - å‚æ•°ä¸º-0ï¼Œè¿”å›`-0`;
      - å…¶ä»–å€¼ï¼Œè¿”å›`NaN`ã€‚
  
      ```js
      Math.sign(-5) // -1
      Math.sign(5) // +1
      Math.sign(0) // +0
      Math.sign(-0) // -0
      Math.sign(NaN) // NaN
      ```
  
      å¦‚æœå‚æ•°æ˜¯éæ•°å€¼ï¼Œä¼šè‡ªåŠ¨è½¬ä¸ºæ•°å€¼ã€‚å¯¹äºé‚£äº›æ— æ³•è½¬ä¸ºæ•°å€¼çš„å€¼ï¼Œä¼šè¿”å›`NaN`ã€‚
  
      ```js
      Math.sign('')  // 0
      Math.sign(true)  // +1
      Math.sign(false)  // 0
      Math.sign(null)  // 0
      Math.sign('9')  // +1
      Math.sign('foo')  // NaN
      Math.sign()  // NaN
      Math.sign(undefined)  // NaN
      ```
  
      å¯¹äºæ²¡æœ‰éƒ¨ç½²è¿™ä¸ªæ–¹æ³•çš„ç¯å¢ƒï¼Œå¯ä»¥ç”¨ä¸‹é¢çš„ä»£ç æ¨¡æ‹Ÿã€‚
  
      ```js
      Math.sign = Math.sign || function(x) {
        x = +x; // convert to a number
        if (x === 0 || isNaN(x)) {
          return x;
        }
        return x > 0 ? 1 : -1;
      };
      ```
  
    - `Math.cbrt()`ï¼šç”¨äºè®¡ç®—ä¸€ä¸ªæ•°çš„ç«‹æ–¹æ ¹ã€‚
  
      ```js
      Math.cbrt(-1) // -1
      Math.cbrt(0)  // 0
      Math.cbrt(1)  // 1
      Math.cbrt(2)  // 1.2599210498948732
      ```
  
      å¯¹äºéæ•°å€¼ï¼Œ`Math.cbrt()`æ–¹æ³•å†…éƒ¨ä¹Ÿæ˜¯å…ˆä½¿ç”¨`Number()`æ–¹æ³•å°†å…¶è½¬ä¸ºæ•°å€¼ã€‚
  
      ```js
      Math.cbrt('8') // 2
      Math.cbrt('hello') // NaN
      ```
  
      å¯¹äºæ²¡æœ‰éƒ¨ç½²è¿™ä¸ªæ–¹æ³•çš„ç¯å¢ƒï¼Œå¯ä»¥ç”¨ä¸‹é¢çš„ä»£ç æ¨¡æ‹Ÿã€‚
  
      ```js
      Math.cbrt = Math.cbrt || function(x) {
        var y = Math.pow(Math.abs(x), 1/3);
        return x < 0 ? -y : y;
      };
      ```
  
    - `Math.clz32()`ï¼šå¯ä»¥å°†å‚æ•°è½¬ä¸º 32 ä½æ— ç¬¦å·æ•´æ•°çš„å½¢å¼ï¼Œç„¶åè¿”å›è¿™ä¸ª 32 ä½å€¼é‡Œé¢æœ‰å¤šå°‘ä¸ªå‰å¯¼ 0ã€‚
  
      ```js
      Math.clz32(0) // 32
      Math.clz32(1) // 31
      Math.clz32(1000) // 22
      Math.clz32(0b01000000000000000000000000000000) // 1
      Math.clz32(0b00100000000000000000000000000000) // 2
      ```
  
      ä¸Šé¢ä»£ç ä¸­ï¼Œ0 çš„äºŒè¿›åˆ¶å½¢å¼å…¨ä¸º 0ï¼Œæ‰€ä»¥æœ‰ 32 ä¸ªå‰å¯¼ 0ï¼›1 çš„äºŒè¿›åˆ¶å½¢å¼æ˜¯`0b1`ï¼Œåªå  1 ä½ï¼Œæ‰€ä»¥ 32 ä½ä¹‹ä¸­æœ‰ 31 ä¸ªå‰å¯¼ 0ï¼›1000 çš„äºŒè¿›åˆ¶å½¢å¼æ˜¯`0b1111101000`ï¼Œä¸€å…±æœ‰ 10 ä½ï¼Œæ‰€ä»¥ 32 ä½ä¹‹ä¸­æœ‰ 22 ä¸ªå‰å¯¼ 0ã€‚
  
      `clz32`è¿™ä¸ªå‡½æ•°åå°±æ¥è‡ªâ€count leading zero bits in 32-bit binary representation of a numberâ€œï¼ˆè®¡ç®—ä¸€ä¸ªæ•°çš„ 32 ä½äºŒè¿›åˆ¶å½¢å¼çš„å‰å¯¼ 0 çš„ä¸ªæ•°ï¼‰çš„ç¼©å†™ã€‚
  
      å·¦ç§»è¿ç®—ç¬¦ï¼ˆ`<<`ï¼‰ä¸`Math.clz32`æ–¹æ³•ç›´æ¥ç›¸å…³ã€‚
  
      ```js
      Math.clz32(0) // 32
      Math.clz32(1) // 31
      Math.clz32(1 << 1) // 30
      Math.clz32(1 << 2) // 29
      Math.clz32(1 << 29) // 2
      ```
  
      å¯¹äºå°æ•°ï¼Œ`Math.clz32`æ–¹æ³•åªè€ƒè™‘æ•´æ•°éƒ¨åˆ†ã€‚
  
      ```js
      Math.clz32(3.2) // 30
      Math.clz32(3.9) // 30
      ```
  
      å¯¹äºç©ºå€¼æˆ–å…¶ä»–ç±»å‹çš„å€¼ï¼Œ`Math.clz32`æ–¹æ³•ä¼šå°†å®ƒä»¬å…ˆè½¬ä¸ºæ•°å€¼ï¼Œç„¶åå†è®¡ç®—ã€‚
  
      ```js
      Math.clz32() // 32
      Math.clz32(NaN) // 32
      Math.clz32(Infinity) // 32
      Math.clz32(null) // 32
      Math.clz32('foo') // 32
      Math.clz32([]) // 32
      Math.clz32({}) // 32
      Math.clz32(true) // 31
      ```
  
    - `Math.imul()`ï¼šè¿”å›ä¸¤ä¸ªæ•°ä»¥ 32 ä½å¸¦ç¬¦å·æ•´æ•°å½¢å¼ç›¸ä¹˜çš„ç»“æœï¼Œè¿”å›çš„ä¹Ÿæ˜¯ä¸€ä¸ª 32 ä½çš„å¸¦ç¬¦å·æ•´æ•°ã€‚
  
      ```js
      Math.imul(2, 4)   // 8
      Math.imul(-1, 8)  // -8
      Math.imul(-2, -2) // 4
      ```
  
      å¦‚æœåªè€ƒè™‘æœ€å 32 ä½ï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œ`Math.imul(a, b)`ä¸`a * b`çš„ç»“æœæ˜¯ç›¸åŒçš„ï¼Œå³è¯¥æ–¹æ³•ç­‰åŒäº`(a * b)|0`çš„æ•ˆæœï¼ˆè¶…è¿‡ 32 ä½çš„éƒ¨åˆ†æº¢å‡ºï¼‰ã€‚ä¹‹æ‰€ä»¥éœ€è¦éƒ¨ç½²è¿™ä¸ªæ–¹æ³•ï¼Œæ˜¯å› ä¸º JavaScript æœ‰ç²¾åº¦é™åˆ¶ï¼Œè¶…è¿‡ 2 çš„ 53 æ¬¡æ–¹çš„å€¼æ— æ³•ç²¾ç¡®è¡¨ç¤ºã€‚è¿™å°±æ˜¯è¯´ï¼Œå¯¹äºé‚£äº›å¾ˆå¤§çš„æ•°çš„ä¹˜æ³•ï¼Œä½ä½æ•°å€¼å¾€å¾€éƒ½æ˜¯ä¸ç²¾ç¡®çš„ï¼Œ`Math.imul`æ–¹æ³•å¯ä»¥è¿”å›æ­£ç¡®çš„ä½ä½æ•°å€¼ã€‚
  
      ```js
      (0x7fffffff * 0x7fffffff)|0 // 0
      ```
  
      ä¸Šé¢è¿™ä¸ªä¹˜æ³•ç®—å¼ï¼Œè¿”å›ç»“æœä¸º 0ã€‚ä½†æ˜¯ç”±äºè¿™ä¸¤ä¸ªäºŒè¿›åˆ¶æ•°çš„æœ€ä½ä½éƒ½æ˜¯ 1ï¼Œæ‰€ä»¥è¿™ä¸ªç»“æœè‚¯å®šæ˜¯ä¸æ­£ç¡®çš„ï¼Œå› ä¸ºæ ¹æ®äºŒè¿›åˆ¶ä¹˜æ³•ï¼Œè®¡ç®—ç»“æœçš„äºŒè¿›åˆ¶æœ€ä½ä½åº”è¯¥ä¹Ÿæ˜¯ 1ã€‚è¿™ä¸ªé”™è¯¯å°±æ˜¯å› ä¸ºå®ƒä»¬çš„ä¹˜ç§¯è¶…è¿‡äº† 2 çš„ 53 æ¬¡æ–¹ï¼ŒJavaScript æ— æ³•ä¿å­˜é¢å¤–çš„ç²¾åº¦ï¼Œå°±æŠŠä½ä½çš„å€¼éƒ½å˜æˆäº† 0ã€‚`Math.imul`æ–¹æ³•å¯ä»¥è¿”å›æ­£ç¡®çš„å€¼ 1ã€‚
  
      ```js
      Math.imul(0x7fffffff, 0x7fffffff) // 1
      ```
  
    - `Math.fround()`ï¼šè¿”å›ä¸€ä¸ªæ•°çš„32ä½å•ç²¾åº¦æµ®ç‚¹æ•°å½¢å¼ã€‚
  
      å¯¹äº32ä½å•ç²¾åº¦æ ¼å¼æ¥è¯´ï¼Œæ•°å€¼ç²¾åº¦æ˜¯24ä¸ªäºŒè¿›åˆ¶ä½ï¼ˆ1 ä½éšè—ä½ä¸ 23 ä½æœ‰æ•ˆä½ï¼‰ï¼Œæ‰€ä»¥å¯¹äº -224 è‡³ 224 ä¹‹é—´çš„æ•´æ•°ï¼ˆä¸å«ä¸¤ä¸ªç«¯ç‚¹ï¼‰ï¼Œè¿”å›ç»“æœä¸å‚æ•°æœ¬èº«ä¸€è‡´ã€‚
  
      ```js
      Math.fround(0)   // 0
      Math.fround(1)   // 1
      Math.fround(2 ** 24 - 1)   // 16777215
      ```
  
      å¦‚æœå‚æ•°çš„ç»å¯¹å€¼å¤§äº 224ï¼Œè¿”å›çš„ç»“æœä¾¿å¼€å§‹ä¸¢å¤±ç²¾åº¦ã€‚
  
      ```js
      Math.fround(2 ** 24)       // 16777216
      Math.fround(2 ** 24 + 1)   // 16777216
      ```
  
      `Math.fround`æ–¹æ³•çš„ä¸»è¦ä½œç”¨ï¼Œæ˜¯å°†64ä½åŒç²¾åº¦æµ®ç‚¹æ•°è½¬ä¸º32ä½å•ç²¾åº¦æµ®ç‚¹æ•°ã€‚å¦‚æœå°æ•°çš„ç²¾åº¦è¶…è¿‡24ä¸ªäºŒè¿›åˆ¶ä½ï¼Œè¿”å›å€¼å°±ä¼šä¸åŒäºåŸå€¼ï¼Œå¦åˆ™è¿”å›å€¼ä¸å˜ï¼ˆå³ä¸64ä½åŒç²¾åº¦å€¼ä¸€è‡´ï¼‰ã€‚
  
      ```js
      // æœªä¸¢å¤±æœ‰æ•ˆç²¾åº¦
      Math.fround(1.125) // 1.125
      Math.fround(7.25)  // 7.25
      
      // ä¸¢å¤±ç²¾åº¦
      Math.fround(0.3)   // 0.30000001192092896
      Math.fround(0.7)   // 0.699999988079071
      Math.fround(1.0000000123) // 1
      ```
  
      å¯¹äº `NaN` å’Œ `Infinity`ï¼Œæ­¤æ–¹æ³•è¿”å›åŸå€¼ã€‚å¯¹äºå…¶å®ƒç±»å‹çš„éæ•°å€¼ï¼Œ`Math.fround` æ–¹æ³•ä¼šå…ˆå°†å…¶è½¬ä¸ºæ•°å€¼ï¼Œå†è¿”å›å•ç²¾åº¦æµ®ç‚¹æ•°ã€‚
  
      ```js
      Math.fround(NaN)      // NaN
      Math.fround(Infinity) // Infinity
      
      Math.fround('5')      // 5
      Math.fround(true)     // 1
      Math.fround(null)     // 0
      Math.fround([])       // 0
      Math.fround({})       // NaN
      ```
  
      å¯¹äºæ²¡æœ‰éƒ¨ç½²è¿™ä¸ªæ–¹æ³•çš„ç¯å¢ƒï¼Œå¯ä»¥ç”¨ä¸‹é¢çš„ä»£ç æ¨¡æ‹Ÿã€‚
  
      ```js
      Math.fround = Math.fround || function (x) {
        return new Float32Array([x])[0];
      };
      ```
  
    - `Math.hypot()`ï¼šè¿”å›æ‰€æœ‰å‚æ•°çš„å¹³æ–¹å’Œçš„å¹³æ–¹æ ¹ã€‚
  
      ```js
      Math.hypot(3, 4);        // 5
      Math.hypot(3, 4, 5);     // 7.0710678118654755
      Math.hypot();            // 0
      Math.hypot(NaN);         // NaN
      Math.hypot(3, 4, 'foo'); // NaN
      Math.hypot(3, 4, '5');   // 7.0710678118654755
      Math.hypot(-3);          // 3
      ```
  
      ä¸Šé¢ä»£ç ä¸­ï¼Œ3 çš„å¹³æ–¹åŠ ä¸Š 4 çš„å¹³æ–¹ï¼Œç­‰äº 5 çš„å¹³æ–¹ã€‚
  
      å¦‚æœå‚æ•°ä¸æ˜¯æ•°å€¼ï¼Œ`Math.hypot`æ–¹æ³•ä¼šå°†å…¶è½¬ä¸ºæ•°å€¼ã€‚åªè¦æœ‰ä¸€ä¸ªå‚æ•°æ— æ³•è½¬ä¸ºæ•°å€¼ï¼Œå°±ä¼šè¿”å› NaNã€‚
  
    - ##### å¯¹æ•°æ–¹æ³•ï¼š
  
      > ES6 æ–°å¢äº† 4 ä¸ªå¯¹æ•°ç›¸å…³æ–¹æ³•ã€‚
  
      **ï¼ˆ1ï¼‰ Math.expm1()**
  
      `Math.expm1(x)`è¿”å› ex - 1ï¼Œå³`Math.exp(x) - 1`ã€‚
  
      ```js
      Math.expm1(-1) // -0.6321205588285577
      Math.expm1(0)  // 0
      Math.expm1(1)  // 1.718281828459045
      ```
  
      å¯¹äºæ²¡æœ‰éƒ¨ç½²è¿™ä¸ªæ–¹æ³•çš„ç¯å¢ƒï¼Œå¯ä»¥ç”¨ä¸‹é¢çš„ä»£ç æ¨¡æ‹Ÿã€‚
  
      ```js
      Math.expm1 = Math.expm1 || function(x) {
        return Math.exp(x) - 1;
      };
      ```
  
      **ï¼ˆ2ï¼‰Math.log1p()**
  
      `Math.log1p(x)`æ–¹æ³•è¿”å›`1 + x`çš„è‡ªç„¶å¯¹æ•°ï¼Œå³`Math.log(1 + x)`ã€‚å¦‚æœ`x`å°äº-1ï¼Œè¿”å›`NaN`ã€‚
  
      ```js
      Math.log1p(1)  // 0.6931471805599453
      Math.log1p(0)  // 0
      Math.log1p(-1) // -Infinity
      Math.log1p(-2) // NaN
      ```
  
      å¯¹äºæ²¡æœ‰éƒ¨ç½²è¿™ä¸ªæ–¹æ³•çš„ç¯å¢ƒï¼Œå¯ä»¥ç”¨ä¸‹é¢çš„ä»£ç æ¨¡æ‹Ÿã€‚
  
      ```js
      Math.log1p = Math.log1p || function(x) {
        return Math.log(1 + x);
      };
      ```
  
      **ï¼ˆ3ï¼‰Math.log10()**
  
      `Math.log10(x)`è¿”å›ä»¥ 10 ä¸ºåº•çš„`x`çš„å¯¹æ•°ã€‚å¦‚æœ`x`å°äº 0ï¼Œåˆ™è¿”å› NaNã€‚
  
      ```js
      Math.log10(2)      // 0.3010299956639812
      Math.log10(1)      // 0
      Math.log10(0)      // -Infinity
      Math.log10(-2)     // NaN
      Math.log10(100000) // 5
      ```
  
      å¯¹äºæ²¡æœ‰éƒ¨ç½²è¿™ä¸ªæ–¹æ³•çš„ç¯å¢ƒï¼Œå¯ä»¥ç”¨ä¸‹é¢çš„ä»£ç æ¨¡æ‹Ÿã€‚
  
      ```js
      Math.log10 = Math.log10 || function(x) {
        return Math.log(x) / Math.LN10;
      };
      ```
  
      **ï¼ˆ4ï¼‰Math.log2()**
  
      `Math.log2(x)`è¿”å›ä»¥ 2 ä¸ºåº•çš„`x`çš„å¯¹æ•°ã€‚å¦‚æœ`x`å°äº 0ï¼Œåˆ™è¿”å› NaNã€‚
  
      ```js
      Math.log2(3)       // 1.584962500721156
      Math.log2(2)       // 1
      Math.log2(1)       // 0
      Math.log2(0)       // -Infinity
      Math.log2(-2)      // NaN
      Math.log2(1024)    // 10
      Math.log2(1 << 29) // 29
      ```
  
      å¯¹äºæ²¡æœ‰éƒ¨ç½²è¿™ä¸ªæ–¹æ³•çš„ç¯å¢ƒï¼Œå¯ä»¥ç”¨ä¸‹é¢çš„ä»£ç æ¨¡æ‹Ÿã€‚
  
      ```js
      Math.log2 = Math.log2 || function(x) {
        return Math.log(x) / Math.LN2;
      };
      ```
  
    - ##### åŒæ›²å‡½æ•°æ–¹æ³•ï¼š
  
      > ES6 æ–°å¢äº† 6 ä¸ªåŒæ›²å‡½æ•°æ–¹æ³•ã€‚
  
      - `Math.sinh(x)` è¿”å›`x`çš„åŒæ›²æ­£å¼¦ï¼ˆhyperbolic sineï¼‰
      - `Math.cosh(x)` è¿”å›`x`çš„åŒæ›²ä½™å¼¦ï¼ˆhyperbolic cosineï¼‰
      - `Math.tanh(x)` è¿”å›`x`çš„åŒæ›²æ­£åˆ‡ï¼ˆhyperbolic tangentï¼‰
      - `Math.asinh(x)` è¿”å›`x`çš„ååŒæ›²æ­£å¼¦ï¼ˆinverse hyperbolic sineï¼‰
      - `Math.acosh(x)` è¿”å›`x`çš„ååŒæ›²ä½™å¼¦ï¼ˆinverse hyperbolic cosineï¼‰
      - `Math.atanh(x)` è¿”å›`x`çš„ååŒæ›²æ­£åˆ‡ï¼ˆinverse hyperbolic tangentï¼‰
  
  - #### `BigInt` æ•°æ®ç±»å‹
  
    - ##### ç®€ä»‹
  
      JS æ‰€æœ‰æ•°å­—éƒ½ä¿å­˜æˆ 64 ä½æµ®ç‚¹æ•°ï¼Œè¿™ç»™æ•°å€¼çš„è¡¨ç¤ºå¸¦æ¥äº†ä¸¤å¤§é™åˆ¶ã€‚ä¸€æ˜¯æ•°å€¼çš„ç²¾åº¦åªèƒ½åˆ° 53 ä¸ªäºŒè¿›åˆ¶ä½ï¼ˆç›¸å½“äº 16 ä¸ªåè¿›åˆ¶ä½ï¼‰ï¼Œå¤§äºè¿™ä¸ªèŒƒå›´çš„æ•´æ•°ï¼ŒJavaScript æ˜¯æ— æ³•ç²¾ç¡®è¡¨ç¤ºï¼Œè¿™ä½¿å¾— JavaScript ä¸é€‚åˆè¿›è¡Œç§‘å­¦å’Œé‡‘èæ–¹é¢çš„ç²¾ç¡®è®¡ç®—ã€‚äºŒæ˜¯å¤§äºæˆ–ç­‰äº2çš„1024æ¬¡æ–¹çš„æ•°å€¼ï¼ŒJavaScript æ— æ³•è¡¨ç¤ºï¼Œä¼šè¿”å›`Infinity`ã€‚
  
      ```
      // è¶…è¿‡ 53 ä¸ªäºŒè¿›åˆ¶ä½çš„æ•°å€¼ï¼Œæ— æ³•ä¿æŒç²¾åº¦
      Math.pow(2, 53) === Math.pow(2, 53) + 1 // true
      
      // è¶…è¿‡ 2 çš„ 1024 æ¬¡æ–¹çš„æ•°å€¼ï¼Œæ— æ³•è¡¨ç¤º
      Math.pow(2, 1024) // Infinity
      ```
  
      [ES2020](https://github.com/tc39/proposal-bigint) å¼•å…¥äº†ä¸€ç§æ–°çš„æ•°æ®ç±»å‹ BigIntï¼ˆå¤§æ•´æ•°ï¼‰ï¼Œæ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œè¿™æ˜¯ ECMAScript çš„ç¬¬å…«ç§æ•°æ®ç±»å‹ã€‚BigInt åªç”¨æ¥è¡¨ç¤ºæ•´æ•°ï¼Œæ²¡æœ‰ä½æ•°çš„é™åˆ¶ï¼Œä»»ä½•ä½æ•°çš„æ•´æ•°éƒ½å¯ä»¥ç²¾ç¡®è¡¨ç¤ºã€‚
  
      ```
      const a = 2172141653n;
      const b = 15346349309n;
      
      // BigInt å¯ä»¥ä¿æŒç²¾åº¦
      a * b // 33334444555566667777n
      
      // æ™®é€šæ•´æ•°æ— æ³•ä¿æŒç²¾åº¦
      Number(a) * Number(b) // 33334444555566670000
      ```
  
      ä¸ºäº†ä¸ Number ç±»å‹åŒºåˆ«ï¼ŒBigInt ç±»å‹çš„æ•°æ®å¿…é¡»æ·»åŠ åç¼€`n`ã€‚
  
      ```
      1234 // æ™®é€šæ•´æ•°
      1234n // BigInt
      
      // BigInt çš„è¿ç®—
      1n + 2n // 3n
      ```
  
      BigInt åŒæ ·å¯ä»¥ä½¿ç”¨å„ç§è¿›åˆ¶è¡¨ç¤ºï¼Œéƒ½è¦åŠ ä¸Šåç¼€`n`ã€‚
  
      ```
      0b1101n // äºŒè¿›åˆ¶
      0o777n // å…«è¿›åˆ¶
      0xFFn // åå…­è¿›åˆ¶
      ```
  
      BigInt ä¸æ™®é€šæ•´æ•°æ˜¯ä¸¤ç§å€¼ï¼Œå®ƒä»¬ä¹‹é—´å¹¶ä¸ç›¸ç­‰ã€‚
  
      ```
      42n === 42 // false
      ```
  
      `typeof`è¿ç®—ç¬¦å¯¹äº BigInt ç±»å‹çš„æ•°æ®è¿”å›`bigint`ã€‚
  
      ```
      typeof 123n // 'bigint'
      ```
  
      BigInt å¯ä»¥ä½¿ç”¨è´Ÿå·ï¼ˆ`-`ï¼‰ï¼Œä½†æ˜¯ä¸èƒ½ä½¿ç”¨æ­£å·ï¼ˆ`+`ï¼‰ï¼Œå› ä¸ºä¼šä¸ asm.js å†²çªã€‚
  
      ```
      -42n // æ­£ç¡®
      +42n // æŠ¥é”™
      ```
  
      JavaScript ä»¥å‰ä¸èƒ½è®¡ç®—70çš„é˜¶ä¹˜ï¼ˆå³`70!`ï¼‰ï¼Œå› ä¸ºè¶…å‡ºäº†å¯ä»¥è¡¨ç¤ºçš„ç²¾åº¦ã€‚
  
      ```
      let p = 1;
      for (let i = 1; i <= 70; i++) {
        p *= i;
      }
      console.log(p); // 1.197857166996989e+100
      ```
  
      ç°åœ¨æ”¯æŒå¤§æ•´æ•°äº†ï¼Œå°±å¯ä»¥ç®—äº†ï¼Œæµè§ˆå™¨çš„å¼€å‘è€…å·¥å…·è¿è¡Œä¸‹é¢ä»£ç ï¼Œå°± OKã€‚
  
      ```js
      let p = 1n;
      for (let i = 1n; i <= 70n; i++) {
        p *= i;
      }
      console.log(p); // 11978571...00000000n
      ```
  
    - ##### `BigInt` å‡½æ•°
  
      JS åŸç”Ÿæä¾›`BigInt`å‡½æ•°ï¼ˆéæ„é€ å‡½æ•°ï¼Œ`BigInt`ä¹Ÿæ²¡æœ‰å¯¹åº”çš„åŒ…è£…å¯¹è±¡ï¼‰ï¼Œå¯ä»¥ç”¨å®ƒç”Ÿæˆ BigInt ç±»å‹çš„å€¼ã€‚è½¬æ¢è§„åˆ™åŸºæœ¬ä¸`Number()`ä¸€è‡´ï¼Œå°†å…¶ä»–ç±»å‹çš„å€¼è½¬ä¸º BigIntã€‚
  
      ```js
      BigInt(123) // 123n
      BigInt('123') // 123n
      BigInt(false) // 0n
      BigInt(true) // 1n
      ```
  
      `BigInt()`å‡½æ•°å¿…é¡»æœ‰å‚æ•°ï¼Œè€Œä¸”å‚æ•°å¿…é¡»å¯ä»¥æ­£å¸¸è½¬ä¸ºæ•°å€¼ï¼Œä¸‹é¢çš„ç”¨æ³•éƒ½ä¼šæŠ¥é”™ã€‚
  
      ```js
      new BigInt() // TypeError
      BigInt(undefined) //TypeError
      BigInt(null) // TypeError
      BigInt('123n') // SyntaxError
      BigInt('abc') // SyntaxError
      ```
  
      ä¸Šé¢ä»£ç ä¸­ï¼Œå°¤å…¶å€¼å¾—æ³¨æ„å­—ç¬¦ä¸²`123n`æ— æ³•è‡ªåŠ¨è½¬æ¢ä¸º Number ç±»å‹ï¼Œæ‰€ä»¥ä¼šæŠ¥é”™ã€‚
  
      å‚æ•°å¦‚æœæ˜¯å°æ•°ï¼Œä¹Ÿä¼šæŠ¥é”™ã€‚
  
      ```js
      BigInt(1.5) // RangeError
      BigInt('1.5') // SyntaxError
      ```
  
      æ­¤å¤–ï¼ŒBigInt è¿˜æä¾›äº†ä¸‰ä¸ªé™æ€æ–¹æ³•ï¼š
  
      - `BigInt.asUintN(width, BigInt)`ï¼šå°†ä¸€ä¸ª`BigInt`å€¼æˆªæ–­ä¸ºæŒ‡å®šä½æ•°çš„**æ— ç¬¦å·æ•´æ•°**ï¼Œç¡®ä¿ç»“æœåœ¨æŒ‡å®šçš„èŒƒå›´å†…ï¼ˆ`0`åˆ°`2^n - 1`ï¼‰ã€‚
      - `BigInt.asIntN(width, BigInt)`ï¼šå°†ä¸€ä¸ª`BigInt`å€¼æˆªæ–­ä¸ºæŒ‡å®šä½æ•°çš„**æœ‰ç¬¦å·æ•´æ•°**ï¼Œç¡®ä¿ç»“æœåœ¨æŒ‡å®šçš„èŒƒå›´å†…(`-2^(n-1)`åˆ°`2^(n-1)-1`ï¼‰ã€‚
      - `BigInt.parseInt(string[, radix])`ï¼šè¿‘ä¼¼äº`Number.parseInt()`ï¼Œå°†ä¸€ä¸ªå­—ç¬¦ä¸²è½¬æ¢æˆæŒ‡å®šè¿›åˆ¶çš„ BigIntã€‚
  
      ```js
      const max = 2n ** (64n - 1n) - 1n;
      
      BigInt.asIntN(64, max)
      // 9223372036854775807n
      BigInt.asIntN(64, max + 1n)
      // -9223372036854775808n
      BigInt.asUintN(64, max + 1n)
      // 9223372036854775808n
      ```
  
      ä¸Šé¢ä»£ç ä¸­ï¼Œ`max`æ˜¯64ä½å¸¦ç¬¦å·çš„ BigInt æ‰€èƒ½è¡¨ç¤ºçš„æœ€å¤§å€¼ã€‚å¦‚æœå¯¹è¿™ä¸ªå€¼åŠ `1n`ï¼Œ`BigInt.asIntN()`å°†ä¼šè¿”å›ä¸€ä¸ªè´Ÿå€¼ï¼Œå› ä¸ºè¿™æ—¶æ–°å¢çš„ä¸€ä½å°†è¢«è§£é‡Šä¸ºç¬¦å·ä½ã€‚è€Œ`BigInt.asUintN()`æ–¹æ³•ç”±äºä¸å­˜åœ¨ç¬¦å·ä½ï¼Œæ‰€ä»¥å¯ä»¥æ­£ç¡®è¿”å›ç»“æœã€‚
  
      å¦‚æœ`BigInt.asIntN()`å’Œ`BigInt.asUintN()`æŒ‡å®šçš„ä½æ•°ï¼Œå°äºæ•°å€¼æœ¬èº«çš„ä½æ•°ï¼Œé‚£ä¹ˆå¤´éƒ¨çš„ä½å°†è¢«èˆå¼ƒã€‚
  
      ```js
      const max = 2n ** (64n - 1n) - 1n;
      
      BigInt.asIntN(32, max) // -1n
      BigInt.asUintN(32, max) // 4294967295n
      ```
  
      ä¸Šé¢ä»£ç ä¸­ï¼Œ`max`æ˜¯ä¸€ä¸ª64ä½çš„ BigIntï¼Œå¦‚æœè½¬ä¸º32ä½ï¼Œå‰é¢çš„32ä½éƒ½ä¼šè¢«èˆå¼ƒã€‚
  
      ä¸‹é¢æ˜¯`BigInt.parseInt()`çš„ä¾‹å­ã€‚
  
      ```js
      // Number.parseInt() ä¸ BigInt.parseInt() çš„å¯¹æ¯”
      Number.parseInt('9007199254740993', 10)
      // 9007199254740992
      BigInt.parseInt('9007199254740993', 10)
      // 9007199254740993n
      ```
  
      ä¸Šé¢ä»£ç ä¸­ï¼Œç”±äºæœ‰æ•ˆæ•°å­—è¶…å‡ºäº†æœ€å¤§é™åº¦ï¼Œ`Number.parseInt`æ–¹æ³•è¿”å›çš„ç»“æœæ˜¯ä¸ç²¾ç¡®çš„ï¼Œè€Œ`BigInt.parseInt`æ–¹æ³•æ­£ç¡®è¿”å›äº†å¯¹åº”çš„ BigIntã€‚
  
      å¯¹äºäºŒè¿›åˆ¶æ•°ç»„ï¼ŒBigInt æ–°å¢äº†ä¸¤ä¸ªç±»å‹`BigUint64Array`å’Œ`BigInt64Array`ï¼Œè¿™ä¸¤ç§æ•°æ®ç±»å‹è¿”å›çš„éƒ½æ˜¯64ä½ BigIntã€‚`DataView`å¯¹è±¡çš„å®ä¾‹æ–¹æ³•`DataView.prototype.getBigInt64()`å’Œ`DataView.prototype.getBigUint64()`ï¼Œè¿”å›çš„ä¹Ÿæ˜¯ BigIntã€‚
  
    - ##### è½¬æ¢è§„åˆ™
  
      å¯ä»¥ä½¿ç”¨`Boolean()`ã€`Number()`å’Œ`String()`è¿™ä¸‰ä¸ªæ–¹æ³•ï¼Œå°† BigInt å¯ä»¥è½¬ä¸ºå¸ƒå°”å€¼ã€æ•°å€¼å’Œå­—ç¬¦ä¸²ç±»å‹ã€‚
  
      ```js
      Boolean(0n) // false
      Boolean(1n) // true
      Number(1n)  // 1
      String(1n)  // "1"
      ```
  
      ä¸Šé¢ä»£ç ä¸­ï¼Œæ³¨æ„æœ€åä¸€ä¸ªä¾‹å­ï¼Œè½¬ä¸ºå­—ç¬¦ä¸²æ—¶åç¼€`n`ä¼šæ¶ˆå¤±ã€‚
  
      å¦å¤–ï¼Œå–åè¿ç®—ç¬¦ï¼ˆ`!`ï¼‰ä¹Ÿå¯ä»¥å°† BigInt è½¬ä¸ºå¸ƒå°”å€¼ã€‚
  
      ```js
      !0n // true
      !1n // false
      ```
  
    - ##### æ•°å­¦è¿ç®—
  
      æ•°å­¦è¿ç®—æ–¹é¢ï¼ŒBigInt ç±»å‹çš„`+`ã€`-`ã€`*`å’Œ`**`è¿™å››ä¸ªäºŒå…ƒè¿ç®—ç¬¦ï¼Œä¸ Number ç±»å‹çš„è¡Œä¸ºä¸€è‡´ã€‚é™¤æ³•è¿ç®—`/`ä¼šèˆå»å°æ•°éƒ¨åˆ†ï¼Œè¿”å›ä¸€ä¸ªæ•´æ•°ã€‚
  
      ```js
      9n / 5n
      // 1n
      ```
  
      å‡ ä¹æ‰€æœ‰çš„æ•°å€¼è¿ç®—ç¬¦éƒ½å¯ä»¥ç”¨åœ¨ BigIntï¼Œä½†æ˜¯æœ‰ä¸¤ä¸ªä¾‹å¤–ã€‚
  
      - ä¸å¸¦ç¬¦å·çš„å³ç§»ä½è¿ç®—ç¬¦`>>>`
      - ä¸€å…ƒçš„æ±‚æ­£è¿ç®—ç¬¦`+`
  
      ä¸Šé¢ä¸¤ä¸ªè¿ç®—ç¬¦ç”¨åœ¨ BigInt ä¼šæŠ¥é”™ã€‚å‰è€…æ˜¯å› ä¸º`>>>`è¿ç®—ç¬¦æ˜¯ä¸å¸¦ç¬¦å·çš„ï¼Œä½†æ˜¯ BigInt æ€»æ˜¯å¸¦æœ‰ç¬¦å·çš„ï¼Œå¯¼è‡´è¯¥è¿ç®—æ— æ„ä¹‰ï¼Œå®Œå…¨ç­‰åŒäºå³ç§»è¿ç®—ç¬¦`>>`ã€‚åè€…æ˜¯å› ä¸ºä¸€å…ƒè¿ç®—ç¬¦`+`åœ¨ asm.js é‡Œé¢æ€»æ˜¯è¿”å› Number ç±»å‹ï¼Œä¸ºäº†ä¸ç ´å asm.js å°±è§„å®š`+1n`ä¼šæŠ¥é”™ã€‚
  
      **BigInt ä¸èƒ½ä¸æ™®é€šæ•°å€¼è¿›è¡Œæ··åˆè¿ç®—ã€‚**
  
      ```js
      1n + 1.3 // æŠ¥é”™
      ```
  
      ä¸Šé¢ä»£ç æŠ¥é”™æ˜¯å› ä¸ºæ— è®ºè¿”å›çš„æ˜¯ BigInt æˆ– Numberï¼Œéƒ½ä¼šå¯¼è‡´ä¸¢å¤±ç²¾åº¦ä¿¡æ¯ã€‚æ¯”å¦‚`(2n**53n + 1n) + 0.5`è¿™ä¸ªè¡¨è¾¾å¼ï¼Œå¦‚æœè¿”å› BigInt ç±»å‹ï¼Œ`0.5`è¿™ä¸ªå°æ•°éƒ¨åˆ†ä¼šä¸¢å¤±ï¼›å¦‚æœè¿”å› Number ç±»å‹ï¼Œæœ‰æ•ˆç²¾åº¦åªèƒ½ä¿æŒ 53 ä½ï¼Œå¯¼è‡´ç²¾åº¦ä¸‹é™ã€‚
  
      åŒæ ·çš„åŸå› ï¼Œå¦‚æœä¸€ä¸ªæ ‡å‡†åº“å‡½æ•°çš„å‚æ•°é¢„æœŸæ˜¯ Number ç±»å‹ï¼Œä½†æ˜¯å¾—åˆ°çš„æ˜¯ä¸€ä¸ª BigIntï¼Œå°±ä¼šæŠ¥é”™ã€‚
  
      ```js
      // é”™è¯¯çš„å†™æ³•
      Math.sqrt(4n) // æŠ¥é”™
      
      // æ­£ç¡®çš„å†™æ³•
      Math.sqrt(Number(4n)) // 2
      ```
  
      ä¸Šé¢ä»£ç ä¸­ï¼Œ`Math.sqrt`çš„å‚æ•°é¢„æœŸæ˜¯ Number ç±»å‹ï¼Œå¦‚æœæ˜¯ BigInt å°±ä¼šæŠ¥é”™ï¼Œå¿…é¡»å…ˆç”¨`Number`æ–¹æ³•è½¬ä¸€ä¸‹ç±»å‹ï¼Œæ‰èƒ½è¿›è¡Œè®¡ç®—ã€‚
  
      asm.js é‡Œé¢ï¼Œ`|0`è·Ÿåœ¨ä¸€ä¸ªæ•°å€¼çš„åé¢ä¼šè¿”å›ä¸€ä¸ª32ä½æ•´æ•°ã€‚æ ¹æ®ä¸èƒ½ä¸ Number ç±»å‹æ··åˆè¿ç®—çš„è§„åˆ™ï¼ŒBigInt å¦‚æœä¸`|0`è¿›è¡Œè¿ç®—ä¼šæŠ¥é”™ã€‚
  
      ```js
      1n | 0 // æŠ¥é”™
      ```
  
    - ##### å…¶ä»–è¿ç®—
  
      BigInt å¯¹åº”çš„å¸ƒå°”å€¼ï¼Œä¸ Number ç±»å‹ä¸€è‡´ï¼Œå³`0n`ä¼šè½¬ä¸º`false`ï¼Œå…¶ä»–å€¼è½¬ä¸º`true`ã€‚
  
      ```js
      if (0n) {
        console.log('if');
      } else {
        console.log('else');
      }
      // else
      ```
  
      ä¸Šé¢ä»£ç ä¸­ï¼Œ`0n`å¯¹åº”`false`ï¼Œæ‰€ä»¥ä¼šè¿›å…¥`else`å­å¥ã€‚
  
      **æ¯”è¾ƒè¿ç®—ç¬¦**ï¼ˆæ¯”å¦‚`>`ï¼‰å’Œ**ç›¸ç­‰è¿ç®—ç¬¦**ï¼ˆ`==`ï¼‰å…è®¸ BigInt ä¸å…¶ä»–ç±»å‹çš„å€¼æ··åˆè®¡ç®—ï¼Œå› ä¸ºè¿™æ ·åšä¸ä¼šæŸå¤±ç²¾åº¦ã€‚
  
      ```js
      0n < 1 // true
      0n < true // true
      0n == 0 // true
      0n == false // true
      0n === 0 // false
      ```
  
      BigInt ä¸å­—ç¬¦ä¸²æ··åˆè¿ç®—æ—¶ï¼ŒåŒæ ·æ˜¯å…ˆè½¬ä¸ºå­—ç¬¦ä¸²ï¼Œå†è¿›è¡Œè¿ç®—ã€‚
  
      ```js
      '' + 123n // "123"
      ```
  

